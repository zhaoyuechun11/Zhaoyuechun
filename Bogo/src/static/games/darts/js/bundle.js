var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function a(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(a.prototype=i.prototype,new a)}}();!function(){function t(e,i,a){function o(n,r){if(!i[n]){if(!e[n]){var h="function"==typeof require&&require;if(!r&&h)return h(n,!0);if(s)return s(n,!0);var p=new Error("Cannot find module '"+n+"'");throw p.code="MODULE_NOT_FOUND",p}var l=i[n]={exports:{}};e[n][0].call(l.exports,function(t){return o(e[n][1][t]||t)},l,l.exports,t,e,i,a)}return i[n].exports}for(var s="function"==typeof require&&require,n=0;n<a.length;n++)o(a[n]);return o}return t}()({1:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function t(){}return t.init=function(){Laya.ClassUtils.regClass},t.width=750,t.height=1334,t.scaleMode="fixedwidth",t.screenMode="none",t.alignV="middle",t.alignH="center",t.startScene="GameView.scene",t.sceneRoot="",t.debug=!1,t.stat=!0,t.physicsDebug=!0,t.exportSceneToJson=!1,t}();i.default=a,a.init()},{}],2:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=t("./GameConfig"),o=t("./view/GameView"),s=t("./view/RootView"),n=t("./MessageProxy");new(function(){function t(){this.stageWidth=750,this.stageHeight=1334,Config.isAlpha=!0,Laya.init(750,1334),Laya.stage.bgColor=null,Laya.alertGlobalError=!0,Laya.URL.exportSceneToJson=a.default.exportSceneToJson,Laya.stage.alignH=Laya.Stage.ALIGN_MIDDLE,Laya.stage.alignV=Laya.Stage.ALIGN_CENTER,Laya.stage.scaleMode=Laya.Stage.SCALE_SHOWALL,Laya.stage.screenMode=Laya.Stage.SCREEN_VERTICAL,Laya.MouseManager.multiTouchEnabled=!1,this.PreLoad()}return t.prototype.onVersionLoaded=function(){Laya.AtlasInfoManager.enable("fileconfig.json",Laya.Handler.create(this,this.onConfigLoaded))},t.prototype.onConfigLoaded=function(){a.default.startScene&&Laya.Scene.open(a.default.startScene)},t.prototype.PreLoad=function(){var t=[{url:"res/atlas/gameImg.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/1.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/2.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/3.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/4.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/5.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/6.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/7.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/8.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/9.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/10.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/11.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/12.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/13.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/14.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/15.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/16.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/17.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/18.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/19.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/20.atlas",type:Laya.Loader.ATLAS},{url:"gameImg/BG_1.jpg",type:Laya.Loader.IMAGE},{url:"gameImg/BG_2.jpg",type:Laya.Loader.IMAGE},{url:"gameImg/BG_3.jpg",type:Laya.Loader.IMAGE},{url:"gameImg/BG_4.jpg",type:Laya.Loader.IMAGE},{url:"gameImg/BG_5.jpg",type:Laya.Loader.IMAGE},{url:"gameImg/BG_6.jpg",type:Laya.Loader.IMAGE},{url:"gameImg/BG_7.jpg",type:Laya.Loader.IMAGE},{url:"gameImg/BG_8.jpg",type:Laya.Loader.IMAGE},{url:"gameImg/BG_9.jpg",type:Laya.Loader.IMAGE},{url:"gameImg/BG_10.jpg",type:Laya.Loader.IMAGE},{url:"gameImg/BG_11.jpg",type:Laya.Loader.IMAGE},{url:"gameImg/BG_12.jpg",type:Laya.Loader.IMAGE},{url:"gameImg/BG_13.jpg",type:Laya.Loader.IMAGE},{url:"gameImg/BG_14.jpg",type:Laya.Loader.IMAGE},{url:"gameImg/BG_15.jpg",type:Laya.Loader.IMAGE},{url:"gameImg/BG_16.jpg",type:Laya.Loader.IMAGE},{url:"gameImg/BG_17.jpg",type:Laya.Loader.IMAGE},{url:"gameImg/BG_18.jpg",type:Laya.Loader.IMAGE},{url:"gameImg/BG_19.jpg",type:Laya.Loader.IMAGE},{url:"gameImg/BG_20.jpg",type:Laya.Loader.IMAGE},{url:"sound/binggan.mp3",type:Laya.Loader.SOUND},{url:"sound/bom.mp3",type:Laya.Loader.SOUND},{url:"sound/hitknife.mp3",type:Laya.Loader.SOUND},{url:"sound/hitsomething2.mp3",type:Laya.Loader.SOUND},{url:"sound/over.mp3",type:Laya.Loader.SOUND},{url:"sound/qingdu.mp3",type:Laya.Loader.SOUND},{url:"sound/readygo.mp3",type:Laya.Loader.SOUND},{url:"sound/sou.mp3",type:Laya.Loader.SOUND},{url:"sound/time.mp3",type:Laya.Loader.SOUND},{url:"sound/win.mp3",type:Laya.Loader.SOUND},{url:"sound/zzdp.mp3",type:Laya.Loader.SOUND},{url:"sound/zzmt.mp3",type:Laya.Loader.SOUND},{url:"sound/zzsg.mp3",type:Laya.Loader.SOUND}];Laya.loader.load(t,Laya.Handler.create(this,this.PreLoadComplete))},t.prototype.PreLoadComplete=function(){console.log("preload complete"),this.rootView=new s.RootView,this.gameView=new o.GameView,n.MessageProxy.Instance().InitProxy(),n.MessageProxy.Instance().SetGameView(this.gameView),Laya.stage.addChild(this.gameView)},t}())},{"./GameConfig":1,"./MessageProxy":3,"./view/GameView":6,"./view/RootView":7}],3:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=Laya.Browser,o=function(){function t(){}return t.Instance=function(){return null==this.s_instance&&(this.s_instance=new t),this.s_instance},t.prototype.SetGameView=function(t){this._view=t},t.prototype.InitProxy=function(){var t=this;console.log("init message proxy "),a.window.addEventListener("message",function(e){console.log("receive message listener"),t.OnReceiveMessage(e.data)}),this._users=[]},t.prototype.PostMessage=function(t){a.window.parent&&a.window.parent.postMessage(t,"*")},t.prototype.SendPostScore=function(t){this.PostMessage({cmd:"SendGameData",data:t})},t.prototype.SendLoadReady=function(){this.PostMessage({cmd:"GameLoadReady"})},t.prototype.SendGameReady=function(){this.PostMessage({cmd:"GamePlayReady"})},t.prototype.SendGameOver=function(){this.PostMessage({cmd:"GameOver"})},t.prototype.AddListenter=function(t){this._listener=t},t.prototype.RemoveListener=function(){this._listener=null},t.prototype.OnReceiveMessage=function(t){console.log("on receive message"),console.log(t.cmd);switch(t.cmd){case"UpdateData":2==this._users.length&&(t.data.userId==this._users[0].userId?this._view&&this._view.UpdateScoreData(0,t.data.userScore):this._view&&this._view.UpdateScoreData(1,t.data.userScore));break;case"GameResult":this._view&&this._view.ShowResult(t.data);break;case"GameBegin":console.log(t.data),this._users=t.data,this._view?(console.log("set view data  "),this._view.SetUserData(0,t.data[0]),this._view.SetUserData(1,t.data[1])):console.log("view is not create ");break;case"onPause":Laya.SoundManager.musicMuted=!0,Laya.SoundManager.muted=!0;break;case"onResume":Laya.SoundManager.musicMuted=!1,Laya.SoundManager.muted=!1}this._listener&&(console.log("call back listener "),this._listener(t.data))},t}();i.MessageProxy=o},{}],4:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function t(){this.sayaName="SAYA",this.levelNum=1,this.curDaoNum=1,this.lawanName="LAWAN",this.lawanLevelNum=0,this.lawanCurDaoNum=0}return t.Instance=function(){return null==this.s_instance&&(this.s_instance=new t),this.s_instance},t.prototype.getSayaName=function(){return this.sayaName},t.prototype.setSayaName=function(t){this.sayaName=t},t.prototype.getSayaLevel=function(){return this.levelNum},t.prototype.setSayaLevel=function(t){this.levelNum=t},t.prototype.getSayaDao=function(){return this.curDaoNum},t.prototype.setSayaDao=function(t){this.curDaoNum=t},t.prototype.getLawanName=function(){return this.lawanName},t.prototype.setLawanName=function(t){this.lawanName=t},t.prototype.getLawanLevel=function(){return this.lawanLevelNum},t.prototype.setLawanLevel=function(t){this.lawanLevelNum+=t},t.prototype.getLawanDao=function(){return this.lawanCurDaoNum},t.prototype.setLawanDao=function(t){this.lawanCurDaoNum=t},t}();i.PlayerData=a},{}],5:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=Laya.View,o=Laya.Dialog;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.createView(e.uiView)},e.uiView={type:"View",props:{width:750,visible:!0,height:1334},compId:2,child:[{type:"Sprite",props:{y:0,x:0,visible:!0,var:"bgImg",name:"bgImg",alpha:1},compId:3},{type:"Sprite",props:{y:71,x:42,var:"image_1",texture:"gameImg/xinxi_L.png",name:"image1"},compId:7,child:[{type:"Label",props:{y:77,x:54.5,width:100,var:"name_1",pivotX:50,overflow:"hidden",name:"name1",height:20,fontSize:16,color:"#ffffff",align:"center"},compId:15},{type:"Text",props:{y:36,x:125,var:"text_1",name:"text1",fontSize:36,color:"#ffffff",runtime:"laya.display.Text"},compId:23},{type:"Sprite",props:{y:9,x:27,width:58,var:"touxiang1",texture:"gameImg/default_head.png",name:"touxiang1",height:57},compId:100,child:[{type:"Sprite",props:{y:0,x:0,width:59,renderType:"mask",height:57},compId:103,child:[{type:"Circle",props:{y:28.5,x:29.5,radius:28,lineWidth:1,fillColor:"#ff0000"},compId:104}]}]},{type:"Sprite",props:{y:7,x:25,var:"icon_1",texture:"gameImg/touxiang.png",name:"icon1"},compId:9},{type:"Sprite",props:{y:37.5,x:56,width:70,var:"duanwei_1",pivotY:35,pivotX:35,height:70},compId:222}]},{type:"Sprite",props:{y:73,x:433,var:"image_2",texture:"gameImg/xinxi_R.png",name:"image2"},compId:8,child:[{type:"Label",props:{y:77,x:221.5,width:100,var:"name_2",pivotX:50,overflow:"hidden",name:"name2",height:20,fontSize:16,color:"#ffffff",align:"center"},compId:16},{type:"Text",props:{y:37,x:23,var:"text_2",name:"text2",fontSize:36,color:"#ffffff",align:"center",runtime:"laya.display.Text"},compId:24},{type:"Sprite",props:{y:6.5,x:193,var:"icon_2",texture:"gameImg/touxiang.png",name:"icon2"},compId:10},{type:"Sprite",props:{y:6,x:195,width:58,var:"touxiang2",texture:"gameImg/default_head.png",name:"touxiang2",height:57},compId:118,child:[{type:"Sprite",props:{y:0,x:0,width:59,renderType:"mask",height:57},compId:119,child:[{type:"Circle",props:{y:28.5,x:29.5,radius:28,lineWidth:1,fillColor:"#ff0000"},compId:120}]}]},{type:"Sprite",props:{y:36,x:222.5,width:70,var:"duanwei_2",pivotY:35,pivotX:35,height:70},compId:221}]},{type:"Sprite",props:{y:1100,x:39,var:"shiDao",name:"shiDao"},compId:14},{type:"Sprite",props:{y:1100,x:37,visible:!0,var:"xuDao",name:"xuDao"},compId:13},{type:"Sprite",props:{y:950,x:375,width:32,visible:!1,var:"knifeImg",rotation:0,pivotX:16,name:"knifeImg",height:188},compId:12},{type:"Sprite",props:{y:487,x:375,width:384,var:"targetImg",rotation:0,pivotY:192,pivotX:192,name:"targetImg",height:384},compId:11,child:[{type:"Sprite",props:{y:-5,x:7,width:380,var:"zheZhao",texture:"gameImg/zhezao.png",name:"zheZhao",height:380},compId:48}]},{type:"Label",props:{y:95,x:335,var:"timeL",text:"9",name:"timeL",fontSize:72,color:"#ffffff"},compId:25},{type:"Label",props:{y:95,x:377,var:"timeR",text:"0",name:"timeR",fontSize:72,color:"#ffffff"},compId:26},{type:"Sprite",props:{y:303,x:161,visible:!1,var:"p1",texture:"1/pan1_po_01.png",name:"p1"},compId:29},{type:"Sprite",props:{y:271,x:294,visible:!1,var:"p2",texture:"1/pan1_po_02.png",name:"p2"},compId:30},{type:"Sprite",props:{y:404,x:394,visible:!1,var:"p3",texture:"1/pan1_po_03.png",name:"p3"},compId:31},{type:"Sprite",props:{y:491,x:330,visible:!1,var:"p4",texture:"1/pan1_po_04.png",name:"p4"},compId:32},{type:"Sprite",props:{y:487,x:375,width:380,visible:!0,var:"zhuan_1",texture:"gameImg/guochangguang.png",pivotY:190,pivotX:190,name:"zhuan1",height:380},compId:34},{type:"Sprite",props:{y:446,x:167,visible:!1,var:"p5",texture:"1/pan1_po_05.png",name:"p5"},compId:28},{type:"Sprite",props:{y:404,x:353,visible:!1,var:"p6",texture:"1/pan1_po_06.png",name:"p6"},compId:33},{type:"Sprite",props:{y:261,x:271,visible:!0,var:"zhuan_2",texture:"gameImg/guochang.png",name:"zhuan2"},compId:35},{type:"Text",props:{y:516,x:374,width:136,visible:!0,var:"zhuan_3",pivotX:68,name:"zhuan3",height:36,fontSize:36,color:"#ffffff",runtime:"laya.display.Text"},compId:36},{type:"Sprite",props:{y:18,x:670,visible:!1,var:"withSounce",texture:"gameImg/anniu_yuyin_kai.png",name:"withSounce"},compId:85},{type:"Sprite",props:{y:734,x:374,width:150,var:"pengzhuan",pivotY:75,pivotX:75,height:150},compId:112},{type:"Sprite",props:{y:487,x:375,width:380,var:"timber_2",pivotY:190,pivotX:190,height:380},compId:121}],animations:[{nodes:[{target:12,keyframes:{texture:[{value:"gameImg/dao_1.png",tweenMethod:"linearNone",tween:!1,target:12,key:"texture",index:0}]}},{target:11,keyframes:{texture:[{value:"gameImg/pan_1.png",tweenMethod:"linearNone",tween:!1,target:11,key:"texture",index:0}]}},{target:3,keyframes:{texture:[{value:"gameImg/BG_1.jpg",tweenMethod:"linearNone",tween:!1,target:3,key:"texture",index:0}]}}],name:"ready",id:1,frameRate:24,action:0}],loadList:["gameImg/xinxi_L.png","gameImg/default_head.png","gameImg/touxiang.png","gameImg/xinxi_R.png","gameImg/zhezao.png","1/pan1_po_01.png","1/pan1_po_02.png","1/pan1_po_03.png","1/pan1_po_04.png","gameImg/guochangguang.png","1/pan1_po_05.png","1/pan1_po_06.png","gameImg/guochang.png","gameImg/anniu_yuyin_kai.png","gameImg/dao_1.png","gameImg/pan_1.png","gameImg/BG_1.jpg"],loadList3D:[]},e}(a);t.GameViewUI=e;var i=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.createView(e.uiView)},e.uiView={type:"Dialog",props:{width:750,height:1334},compId:2,child:[{type:"Sprite",props:{y:406,x:159,texture:"gameImg/lose.png"},compId:3,child:[{type:"Label",props:{y:313.5,x:56,var:"saya",text:"YOUR SCORE",name:"saya",fontSize:20,color:"#513b13",bold:!0},compId:5},{type:"Label",props:{y:313.5,x:216,var:"lawan",text:"OPPONENT SCORE",name:"lawan",fontSize:20,color:"#513b13",bold:!0},compId:6},{type:"Text",props:{y:382,x:29.43701171875,var:"L1",name:"L1",fontSize:36,color:"#ffffff",bold:!0,runtime:"laya.display.Text"},compId:7},{type:"Text",props:{y:382,x:235.27685546875,var:"L2",name:"L2",fontSize:36,color:"#ffff00",bold:!0,runtime:"laya.display.Text"},compId:8},{type:"Sprite",props:{y:419,x:56,width:17,visible:!1,var:"DImg1",texture:"gameImg/dao_19.png",rotation:-44,pivotX:10,name:"DImg1",height:80},compId:9},{type:"Label",props:{y:432,x:124,visible:!1,var:"x1",text:"x",name:"x1",fontSize:35,color:"#ffffff",bold:!0},compId:10},{type:"Text",props:{y:430,x:148,visible:!1,var:"D1",text:"0",name:"D1",fontSize:40,color:"#ffffff",bold:!0,runtime:"laya.display.Text"},compId:11},{type:"Sprite",props:{y:418,x:264,width:17,visible:!1,var:"DImg2",texture:"gameImg/dao_19.png",rotation:-44,pivotX:10,name:"DImg2",height:80},compId:12},{type:"Label",props:{y:432,x:333,visible:!1,var:"x2",text:"x",name:"x2",fontSize:35,color:"#ffff00",bold:!0},compId:13},{type:"Text",props:{y:428,x:359,visible:!1,var:"D2",text:"0",name:"D2",fontSize:40,color:"#ffff00",bold:!0,runtime:"laya.display.Text"},compId:14}]}],loadList:["gameImg/lose.png","gameImg/dao_19.png"],loadList3D:[]},e}(o);t.loseDialogUI=i;var s=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.createView(e.uiView)},e.uiView={type:"View",props:{width:750,height:1334},compId:2,child:[{type:"HBox",props:{var:"layer1"},compId:3},{type:"HBox",props:{var:"layer2"},compId:4},{type:"HBox",props:{var:"layer3"},compId:5}],loadList:[],loadList3D:[]},e}(a);t.RootViewUI=s;var n=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.createView(e.uiView)},e.uiView={type:"View",props:{width:400,height:400},compId:2,child:[{type:"Sprite",props:{y:0,x:119,width:282,var:"po_02",texture:"1/pan1_po_02.png",rotation:0,name:"po02",height:181},compId:4},{type:"Sprite",props:{y:117.5,x:196,var:"po_03",texture:"1/pan1_po_03.png",name:"po03"},compId:5},{type:"Sprite",props:{y:200,x:138.5,var:"po_04",texture:"1/pan1_po_04.png",name:"po04"},compId:6},{type:"Sprite",props:{y:157,x:-13,var:"po_05",texture:"1/pan1_po_05.png",name:"po05"},compId:7},{type:"Sprite",props:{y:117.5,x:172.5,width:157,var:"po_06",texture:"1/pan1_po_06.png",rotation:8,name:"po06",height:101},compId:8},{type:"Sprite",props:{y:10.5,x:-13,var:"po_01",texture:"1/pan1_po_01.png",name:"po011"},compId:9}],loadList:["1/pan1_po_02.png","1/pan1_po_03.png","1/pan1_po_04.png","1/pan1_po_05.png","1/pan1_po_06.png","1/pan1_po_01.png"],loadList3D:[]},e}(a);t.suipianUI=n;var r=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.createView(e.uiView)},e.uiView={type:"Dialog",props:{width:750,height:1334},compId:2,child:[{type:"Sprite",props:{y:406,x:159,texture:"gameImg/tie.png"},compId:3,child:[{type:"Label",props:{y:326,x:55,var:"saya",text:"YOUR SCORE",name:"saya",fontSize:20,color:"#513b13",bold:!0},compId:4},{type:"Label",props:{y:326,x:216,var:"lawan",text:"OPPONENT SCORE",name:"lawan",fontSize:20,color:"#513b13",bold:!0},compId:5},{type:"Text",props:{y:379,x:28.43701171875,var:"L1",name:"L1",fontSize:36,color:"#ffffff",bold:!0,runtime:"laya.display.Text"},compId:6},{type:"Text",props:{y:379,x:230,var:"L2",name:"L2",fontSize:36,color:"#ffffff",bold:!0,runtime:"laya.display.Text"},compId:7},{type:"Sprite",props:{y:416,x:55,width:17,visible:!1,var:"DImg1",texture:"gameImg/dao_19.png",rotation:-44,pivotX:10,name:"DImg1",height:80},compId:8},{type:"Label",props:{y:429,x:123,visible:!1,var:"x1",text:"x",name:"x1",fontSize:35,color:"#ffffff",bold:!0},compId:9},{type:"Text",props:{y:427,x:147,visible:!1,var:"D1",text:"0",name:"D1",fontSize:40,color:"#ffffff",bold:!0,runtime:"laya.display.Text"},compId:10},{type:"Label",props:{y:429,x:332,visible:!1,var:"x2",text:"x",name:"x2",fontSize:35,color:"#ffffff",bold:!0},compId:12},{type:"Sprite",props:{y:415,x:263,width:17,visible:!1,var:"DImg2",texture:"gameImg/dao_19.png",rotation:-44,pivotX:10,name:"DImg2",height:80},compId:11},{type:"Text",props:{y:425,x:358,visible:!1,var:"D2",text:"0",name:"D2",fontSize:40,color:"#ffffff",bold:!0,runtime:"laya.display.Text"},compId:13}]}],loadList:["gameImg/tie.png","gameImg/dao_19.png"],loadList3D:[]},e}(o);t.tieDialogUI=r;var h=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.createView(e.uiView)},e.uiView={type:"Dialog",props:{width:750,height:1334},compId:2,child:[{type:"Sprite",props:{y:294,x:126.5,texture:"gameImg/guang.png"},compId:18},{type:"Sprite",props:{y:375,x:161,visible:!0,var:"winImg",texture:"gameImg/win.png",name:"winImg"},compId:3,child:[{type:"Label",props:{y:334,x:49,var:"saya",text:"YOUR SCORE",fontSize:20,color:"#513b13",bold:!0},compId:5},{type:"Label",props:{y:334,x:216,var:"lawan",text:"OPPONENT SCORE",name:"lawan",fontSize:20,color:"#513b13",bold:!0},compId:8},{type:"Text",props:{y:403,x:31.43701171875,var:"L1",name:"L1",fontSize:36,color:"#ffff00",bold:!0,runtime:"laya.display.Text"},compId:9},{type:"Text",props:{y:402,x:240.138427734375,var:"L2",name:"L2",fontSize:36,color:"#ffffff",bold:!0,runtime:"laya.display.Text"},compId:10},{type:"Sprite",props:{y:438,x:57,width:17,visible:!1,var:"DImg1",texture:"gameImg/dao_19.png",rotation:-44,pivotX:10,name:"DImg1",height:80},compId:11},{type:"Label",props:{y:451,x:125,visible:!1,var:"x1",text:"x",fontSize:35,color:"#ffff00",bold:!0},compId:13},{type:"Text",props:{y:449,x:149,visible:!1,var:"D1",text:"0",name:"D1",fontSize:40,color:"#ffff00",bold:!0,runtime:"laya.display.Text"},compId:15},{type:"Sprite",props:{y:437,x:265,width:17,visible:!1,var:"DImg2",texture:"gameImg/dao_19.png",rotation:-44,pivotX:10,name:"DImg2",height:80},compId:12},{type:"Label",props:{y:451,x:334,visible:!1,var:"x2",text:"x",fontSize:35,color:"#ffffff",bold:!0},compId:14},{type:"Text",props:{y:447,x:360,visible:!1,var:"D2",text:"0",name:"D2",fontSize:40,color:"#ffffff",bold:!0,runtime:"laya.display.Text"},compId:16},{type:"Sprite",props:{y:-55,x:62,var:"guang",texture:"gameImg/huangguang.png",name:"guang"},compId:17}]}],loadList:["gameImg/guang.png","gameImg/win.png","gameImg/dao_19.png","gameImg/huangguang.png"],loadList3D:[]},e}(o);t.WinDialogUI=h}(i.ui||(i.ui={}))},{}],6:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=t("../ui/layaMaxUI"),o=t("../logic/PlayerData"),s=t("../MessageProxy"),n=Laya.Handler,r=Laya.Sprite,h=Laya.Ease,p=Laya.Event,l=Laya.Tween,m=Laya.SoundManager,u=Laya.Animation,y=function(t){function e(){var e=t.call(this)||this;return e.mode=1,e.skin=1,e.rotations=2,e.isShooting=!0,e.insertRotate=[],e.insertRotateNoAnimate=[],e.rate=25,e.rateOffset=0,e.level=1,e.lawanLevel=1,e.leftTime=90,e.isRotate=!0,e.leftShi=[],e.leftXu=[],e.baokaitimes=1,e.readyGo=new u,e.date2=new Date,e.showDialogTime=5,e.counter=0,e.winDialog=new a.ui.WinDialogUI,e.loseDialog=new a.ui.loseDialogUI,e.tieDialog=new a.ui.tieDialogUI,e.tl=new Laya.Animation,e.calcCollision=function(t){return e.insertRotate.some(function(e){var i=t%360,a=e.range[0]%360;return a<0&&(a+=360),i<0&&(i+=360),Math.abs(i-a)<10||Math.abs(i-a)>350})},e.ry=0,e.maxRy=3,e.rSpeed=.1,e.isSkip=!1,e.isTrigger=!1,e.a=1,e.initImage(),e.initGame(),s.MessageProxy.Instance().SendLoadReady(),e}return __extends(e,t),e.prototype.readyG=function(){this.readyGo.loadAtlas("res/readyGo.atlas"),this.readyGo.x=-25,this.readyGo.y=200,this.addChild(this.readyGo),m.playSound("sound/readygo.mp3",1),this.readyGo.play(0,!1)},e.prototype.initImage=function(){var t=Laya.stage.width;Laya.stage.height;this.timber2=new r,this.timber2.alpha=0,this.timber2.pivotX=this.timber_2.width/2,this.timber2.pivotY=this.timber_2.width/2,this.timber2.x=this.timber_2.x,this.timber2.y=this.timber_2.y,this.timber2.width=this.timber_2.width,this.timber2.height=this.timber_2.height,this.bgImg.addChild(this.timber2),this.timber=new r,this.timber.loadImage("gameImg/pan_"+this.level+".png"),this.timber.pivotX=this.targetImg.width/2,this.timber.pivotY=this.targetImg.width/2,this.timber.x=t/2,this.timber.y=this.targetImg.y,this.addChild(this.timber),this.mengban=new r,this.zheZhao.visible=!1,this.addChild(this.timeL),this.addChild(this.timeR),this.zhuan_3.text="Level "+this.level,this.addChild(this.ready),this.timber.alpha=0,this.timber2.alpha=0,this.zhuan_1.alpha=1,this.zhuan_2.alpha=0,this.zhuan_3.alpha=0,this.addChild(this.zhuan_1),Laya.timer.once(1,this,this.rotateZhuan),this.readyG(),l.to(this.bgImg,{},3e3,h.bounceInOut,n.create(this,this.beforeStart))},e.prototype.beforeStart=function(){this.zhuan_1.alpha=0,this.zhuan_2.alpha=0,this.zhuan_3.alpha=0,this.timber.alpha=1,this.timber2.alpha=1,this.kunai.alpha=1,this.readyGo.visible=!1,this.cleanKunai(),this.createXudao(),this.startAnimation(),this.createRandomKunai(),this.updateShidao(!1),this.showTime(),this.isShooting=!1,s.MessageProxy.Instance().SendGameReady()},e.prototype.showTime=function(){this.updateLevelText(),Laya.timer.loop(1e3,this,this.updateTime)},e.prototype.updateTime=function(){if(this.leftTime<=0&&Laya.timer.clear(this,this.updateTime),this.leftTime<=10&&m.playSound("sound/time.mp3",1),this.leftTime>0){this.leftTime-=1;var t=this.leftTime.toString();this.leftTime>=0?t.length>1?(this.timeL.text=t[0],this.timeR.text=t[1]):(this.timeL.text="0",this.timeR.text=t[0]):console.log("GameOver")}else this.isShooting=!0,this.stopAnimation()},e.prototype.zhuan=function(){this.zhuan_1.alpha=1,this.zhuan_2.alpha=1,this.zhuan_3.alpha=1,Laya.timer.once(10,this,this.rotateZhuan),this.zhuan_3.text=this.text_1.text},e.prototype.rotateZhuan=function(){var t=this;this.timberInterval&&clearInterval(this.timberInterval),this.timber.rotation=0,this.timberInterval=setInterval(function(){t.zhuan_1.rotation+=3},this.rate-this.rateOffset)},e.prototype.initGame=function(){this.layerNum=this.numChildren,this.timberLayerNum=this.timber2.numChildren,this.createKunai(),this.kunai.alpha=0,this.createRandomKunai(),this.initKnifeNum(),this.winDialog.on(p.MOUSE_DOWN,this,this.OnGameResultClose),this.text_1.text="Level 1",this.text_2.text="Level 1"},e.prototype.initKnifeNum=function(){switch(this.level){case 1:this.knifeNum=4;break;case 2:this.knifeNum=5;break;case 3:case 4:this.knifeNum=6;break;case 7:case 8:case 9:case 10:case 13:case 14:case 16:this.knifeNum=6;break;case 5:case 6:case 11:case 12:case 15:case 17:case 18:case 19:this.knifeNum=7;break;case 20:this.knifeNum=8}},e.prototype.updateLevelText=function(){this.text_1.text="Level "+this.level},e.prototype.createKunai=function(){Laya.stage.width,Laya.stage.height;this.kunai=new r,this.kunai.loadImage("gameImg/dao_"+this.level+".png"),this.addChild(this.kunai),this.kunai.width=this.knifeImg.width,this.kunai.height=this.knifeImg.height,this.kunai.x=this.knifeImg.x-this.knifeImg.width/2,this.kunai.y=this.knifeImg.y,this.createClickable()},e.prototype.createRandomKunai=function(){switch(this.level){case 1:this.addKunai=0;break;case 2:this.addKunai=1;for(t=1;t<=this.addKunai;t++)this.createRotateKunai(90*t);break;case 3:case 6:case 7:case 13:this.addKunai=2;for(t=1;t<=this.addKunai;t++)this.createRotateKunai(180*t-1);break;case 4:case 8:case 11:case 12:case 16:this.addKunai=3;for(t=1;t<=this.addKunai;t++)this.createRotateKunai(120*t-1);break;case 5:case 9:case 14:case 15:case 17:case 18:case 19:this.addKunai=4;for(t=1;t<=this.addKunai;t++)this.createRotateKunai(90*t-1);break;case 10:case 20:this.addKunai=5;for(var t=1;t<=this.addKunai;t++)this.createRotateKunai(72*t-1)}this.startAnimation()},e.prototype.createClickable=function(){this.stage.on(p.MOUSE_DOWN,this,this.shoot)},e.prototype.startAnimation=function(){this.timberInterval&&clearInterval(this.timberInterval),this.timber.rotation=0,this.timer.loop(10,this,this.rotate)},e.prototype.rotate=function(){this.timber.rotation+=this.rotations},e.prototype.stopAnimation=function(){var t=this;this.timer.clear(this,this.rotate),this.timer.clear(this,this.rotate2),this.timberInterval&&clearInterval(this.timberInterval),this.timberInterval=setInterval(function(){t.timber.rotation+=0},this.rate-this.rateOffset),this.insertRotate.forEach(function(e){e.time&&clearInterval(e.time);var i=setInterval(function(){e.kunai.rotation+=0},t.rate-t.rateOffset);e.time=i})},e.prototype.shoot=function(){var t=this;if(!(this.isShooting||this.knifeNum<=0)){this.isShooting=!0;l.to(this.kunai,{y:670},75,h.linearIn,n.create(this,function(){if(t.calcCollision(t.timber.rotation))t.moveoutKunai();else{t.woodBits(),t.knifeNum-=1,t.playShootSound(),t.updateShidao(!1);var e=t.timber.x,i=t.timber.y;t.createRotateKunai(),l.to(t.timber,{x:e+10,y:i+10},100,h.bounceInOut).from(t.timber,{x:e-10,y:i-10},100,h.bounceInOut),t.timber.addChild(t.zheZhao),t.zheZhao.visible=!0,t.zheZhao.alpha=.8,Laya.timer.once(10,t,function(){t.zheZhao.visible=!1}),l.to(t.timber2,{x:e+5,y:i+5},100,h.bounceInOut).from(t.timber2,{x:e-5,y:i-5},100,h.bounceInOut),l.to(t.timber,{x:e,y:i},1,h.bounceInOut,n.create(t,t.callBack)),t.kunai.alpha=0}}))}},e.prototype.hideZhezhao=function(){this.zheZhao.visible=!1},e.prototype.callBack=function(){this.knifeNum<=0?(this.cleanKunai(),this.timber.alpha=0,this.timber2.alpha=0,Laya.loader.load("gameImg/dao_"+this.level+".png"),Laya.loader.load("res/atlas/"+this.level+".atlas",Laya.Handler.create(this,this.onLoaded)),this.playBaokaiSound(),20==this.level?(this.timer.clear(this,this.updateTime),s.MessageProxy.Instance().SendPostScore(this.level)):(this.updateLevelText(),s.MessageProxy.Instance().SendPostScore(this.level),this.level+=1,this.updateCurrentGame(),l.to(this.zhuan_2,{},1e3,h.bounceInOut,n.create(this,this.showNext)),console.log("这一关结束,进入下一关"))):this.resetKunai()},e.prototype.onLoaded=function(){this.tl.clear(),this.tl.interval=20,this.tl.loadAnimation("baokai"+(this.level-1)+".ani"),console.log(this.level),this.tl.x=this.stage.width/2,this.tl.y=this.stage.height/2,Laya.stage.addChild(this.tl),this.tl.play(0,!1),this.tl.on(laya.events.Event.COMPLETE,this,this.complete)},e.prototype.complete=function(){this.tl.removeSelf()},e.prototype.moveoutKunai=function(){m.playSound("sound/nododo.mp3",1),this.stopAnimation(),this.showPengZhuang(),l.to(this.kunai,{x:Laya.stage.width+100,y:Laya.stage.height+500,rotation:360},1e3,h.bounceOut,n.create(this,this.updateCurrentGame)),l.to(this.zhuan_2,{},2e3,h.bounceInOut,n.create(this,this.restartGame))},e.prototype.showPengZhuang=function(){this.pengZhuan=new r,this.pengZhuan.loadImage("gameImg/zhezao.png"),this.pengZhuan.alpha=.5,this.pengZhuan.x=this.pengzhuan.x,this.pengZhuan.y=this.pengzhuan.y,this.addChild(this.pengZhuan),this.pengZhuan.pivotX=this.pengZhuan.width/2,this.pengZhuan.pivotY=this.pengZhuan.height/2,l.to(this.pengZhuan,{scaleX:10,scaleY:10,alpha:0},50,h.bounceOut,n.create(this,this.hidePengZhuang))},e.prototype.hidePengZhuang=function(){this.pengZhuan.alpha=0,this.pengZhuan.destroy()},e.prototype.restartGame=function(){this.zhuan_1.alpha=0,this.zhuan_2.alpha=0,this.zhuan_3.alpha=0,this.timber.alpha=1,this.timber2.alpha=1,this.kunai.alpha=1,this.counter=0,this.cleanKunai(),this.startAnimation(),this.createKunai(),this.createRandomKunai(),this.updateShidao(!0),this.isShooting=!1,this.rotations=2,this.resetAnimation()},e.prototype.createRotateKunaiNoAnimate=function(t){var e=new r;e.loadImage("gameImg/dao_"+this.level+".png"),e.pivotX=20.5,e.pivotY=-90,e.x=Laya.stage.width/2,e.y=this.targetImg.y,e.width=this.knifeImg.width,e.height=this.knifeImg.height,e.rotation=-t,this.addChildAt(e,this.layerNum-1),this.insertRotateNoAnimate.push(e)},e.prototype.updateCurrentGame=function(){this.timber.alpha=0,this.timber2.alpha=0,this.zhuan()},e.prototype.cleanKunai=function(){this.insertRotate.forEach(function(t){t.kunai.parent.removeChild(t.kunai)}),this.insertRotate=[],this.initKnifeNum()},e.prototype.showNext=function(){this.zhuan_1.alpha=0,this.zhuan_2.alpha=0,this.zhuan_3.alpha=0,this.timber.alpha=1,this.timber2.alpha=1,this.rotations=2,this.cleanKunai(),this.updateImg(),this.updateXudao(),this.createXudao(),this.createShidao(this.knifeNum),this.resetKunai(),this.createRandomKunai(),this.updateShidao(!0),this.updateLevelText(),this.resetAnimation()},e.prototype.woodBits=function(){for(var t=this,e=function(e){var a=new r;a.loadImage("gameImg/lizi_01.png"),i.addChild(a),a.width=5,a.height=5,a.x=i.stage.width/2,a.y=i.targetImg.y+i.targetImg.height/2,i.addChild(a);var o=Math.floor(Math.random()*i.stage.width*2);o=Math.random()<.5?-1*o:o,l.to(a,{x:o,y:i.stage.height},500,h.sineOut,n.create(i,function(){t.removeChild(a)}))},i=this,a=0;a<4;a++)e()},e.prototype.createRotateKunai=function(t){var e=this,i="number"==typeof t?t:this.timber.rotation,a=[];a.push(i);var o=new r;o.loadImage("gameImg/dao_"+this.level+".png"),o.pivotX=this.knifeImg.width/2,o.pivotY=-90,o.width=this.knifeImg.width,o.height=this.knifeImg.height,o.x=this.targetImg.width/2,o.y=this.targetImg.height/2,o.rotation="number"==typeof t?-t:0,this.timber2.addChildAt(o,this.timberLayerNum);var s=setInterval(function(){o.rotation+=e.rotations},this.rate-this.rateOffset),n={id:this.timber2.rotation,range:a,kunai:o,time:s};this.insertRotate.push(n),this.resetRotateKunai()},e.prototype.resetKunai=function(){this.kunai.width=this.knifeImg.width,this.kunai.height=this.knifeImg.height,this.kunai.rotation=0,this.kunai.x=Laya.stage.width/2-10,this.kunai.y=1e3,this.kunai.alpha=1,this.timber.alpha=1,this.timber2.alpha=1,this.isShooting=!1},e.prototype.resetAnimation=function(){switch(this.level){case 1:case 4:this.rotations=2;break;case 2:this.rotations=1.5;break;case 3:case 5:this.rotations=3;break;case 6:this.rotations=3,this.yunsu9();break;case 7:this.rotations=2,Laya.timer.clear(this,this.changeRotateion9);break;case 8:this.rotations=2,this.yunsu5();break;case 9:this.rotations=3,Laya.timer.clear(this,this.changeRotateion5),this.yunsu9();break;case 10:this.rotations=3,Laya.timer.clear(this,this.changeRotateion9),this.yunsu9();break;case 11:this.rotations=2,Laya.timer.clear(this,this.changeRotateion9),this.yunsu5();break;case 12:this.rotations=3,Laya.timer.clear(this,this.changeRotateion5),this.yunsu9();break;case 13:this.rotations=3,Laya.timer.clear(this,this.changeRotateion9);break;case 14:this.rotations=2,this.yunsu5();break;case 15:this.rotations=3,Laya.timer.clear(this,this.changeRotateion5),this.yunsu9();break;case 16:this.rotations=3,Laya.timer.clear(this,this.changeRotateion9);break;case 17:this.rotations=2,this.yunsu5();break;case 18:this.rotations=.5,Laya.timer.clear(this,this.changeRotateion5),this.yunsu6();break;case 19:this.rotations=3,Laya.timer.clear(this,this.changeRotateion6),this.yunsu19();break;case 20:this.rotations=3,Laya.timer.clear(this,this.changeRotateion19),this.yunsu20()}},e.prototype.yunsu4=function(){Laya.timer.loop(10,this,this.yunsuFor4)},e.prototype.yunsuFor4=function(){if(0==Math.floor(this.timber.rotation%360)&&(this.isTrigger=!0),!this.isSkip&&this.isTrigger){if(this.ry>this.maxRy)return this.ry=0,void(this.isSkip=!0);this.rotations=3-this.ry,this.ry+=this.rSpeed}else if(this.isSkip&&this.isTrigger){if(this.ry>this.maxRy)return this.ry=0,this.rotations=3,this.isSkip=!1,void(this.isTrigger=!1);this.rotations=this.ry,this.ry+=this.rSpeed}},e.prototype.yunsu5=function(){Laya.timer.loop(10,this,this.changeRotateion5)},e.prototype.changeRotateion5=function(){this.timber.rotation%720-310<=2?this.rotations=2:this.timber.rotation%720-320<=2?this.rotations=1.8:this.timber.rotation%720-330<=2?this.rotations=1.6:this.timber.rotation%720-340<=2?this.rotations=1.4:this.timber.rotation%720-350<=2?this.rotations=1.2:this.timber.rotation%720-360<=2?this.rotations=1:this.timber.rotation%720-680<=2?this.rotations=1.2:this.timber.rotation%720-690<=2?this.rotations=1.4:this.timber.rotation%720-700<=2?this.rotations=1.6:this.timber.rotation%720-710<=2?this.rotations=1.8:this.timber.rotation%720-720<=2&&(this.rotations=2)},e.prototype.yunsu6=function(){Laya.timer.loop(10,this,this.changeRotateion6)},e.prototype.changeRotateion6=function(){.5==this.timber.rotation?(this.a=1,Laya.timer.clear(this,this.run6B),Laya.timer.loop(10,this,this.run6A)):360==this.timber.rotation&&(this.a=-1,Laya.timer.clear(this,this.run6A),Laya.timer.loop(10,this,this.run6B))},e.prototype.run6A=function(){this.timber.rotation<=3?this.rotations=.5*this.a:this.timber.rotation-5<=3?this.rotations=.5*this.a:this.timber.rotation-10<=3?this.rotations=1*this.a:this.timber.rotation-20<=3?this.rotations=1.5*this.a:this.timber.rotation-30<=3?this.rotations=2*this.a:this.timber.rotation-340<=3?this.rotations=1.5*this.a:this.timber.rotation-350<=3?this.rotations=1*this.a:this.timber.rotation-355<=3?this.rotations=.5*this.a:360==this.timber.rotation&&(this.rotations=.5*this.a)},e.prototype.run6B=function(){360-this.timber.rotation<=3?this.rotations=.5*this.a:350-this.timber.rotation<=3?this.rotations=.5*this.a:340-this.timber.rotation<=3?this.rotations=1*this.a:330-this.timber.rotation<=3?this.rotations=1.5*this.a:320-this.timber.rotation<=3?this.rotations=2*this.a:310-this.timber.rotation<=3?this.rotations=2.5*this.a:60-this.timber.rotation<=3?this.rotations=3*this.a:50-this.timber.rotation<=3?this.rotations=2.5*this.a:40-this.timber.rotation<=3?this.rotations=2*this.a:30-this.timber.rotation<=3?this.rotations=1.5*this.a:20-this.timber.rotation<=3?this.rotations=1*this.a:10-this.timber.rotation<=3?this.rotations=.5*this.a:this.timber.rotation<=3&&(this.rotations=.5*this.a)},e.prototype.yunsu7=function(){Laya.timer.loop(10,this,this.changeRotateion7)},e.prototype.changeRotateion7=function(){0==this.timber.rotation&&(this.rotations=3),372==this.timber.rotation&&(this.rotations=-2)},e.prototype.yunsu8=function(){Laya.timer.loop(10,this,this.changeRotateion8)},e.prototype.changeRotateion8=function(){Math.floor(this.timber.rotation/360)%2==0?this.rotations=3:this.rotations=1},e.prototype.yunsu9=function(){Laya.timer.loop(10,this,this.changeRotateion9)},e.prototype.changeRotateion9=function(){0==this.timber.rotation?(this.a=1,Laya.timer.clear(this,this.run9B),Laya.timer.loop(10,this,this.run9A)):360==this.timber.rotation&&(this.a=-1,Laya.timer.clear(this,this.run9A),Laya.timer.loop(10,this,this.run9B))},e.prototype.run9A=function(){this.timber.rotation<=3?this.rotations=.5*this.a:this.timber.rotation-5<=3?this.rotations=.5*this.a:this.timber.rotation-10<=3?this.rotations=1*this.a:this.timber.rotation-20<=3?this.rotations=1.5*this.a:this.timber.rotation-30<=3?this.rotations=2*this.a:this.timber.rotation-40<=3?this.rotations=2.5*this.a:this.timber.rotation-50<=3?this.rotations=3*this.a:this.timber.rotation-320<=3?this.rotations=2.5*this.a:this.timber.rotation-330<=3?this.rotations=2*this.a:this.timber.rotation-340<=3?this.rotations=1.5*this.a:this.timber.rotation-350<=3?this.rotations=1*this.a:this.timber.rotation-355<=3?this.rotations=.5*this.a:360==this.timber.rotation&&(this.rotations=.5*this.a)},e.prototype.run9B=function(){360-this.timber.rotation<=3?this.rotations=.5*this.a:350-this.timber.rotation<=3?this.rotations=.5*this.a:340-this.timber.rotation<=3?this.rotations=1*this.a:330-this.timber.rotation<=3?this.rotations=1.5*this.a:320-this.timber.rotation<=3?this.rotations=2*this.a:310-this.timber.rotation<=3?this.rotations=2.5*this.a:60-this.timber.rotation<=3?this.rotations=3*this.a:50-this.timber.rotation<=3?this.rotations=2.5*this.a:40-this.timber.rotation<=3?this.rotations=2*this.a:30-this.timber.rotation<=3?this.rotations=1.5*this.a:20-this.timber.rotation<=3?this.rotations=1*this.a:10-this.timber.rotation<=3?this.rotations=.5*this.a:this.timber.rotation<=3&&(this.rotations=.5*this.a)},e.prototype.yunsu10=function(){Laya.timer.loop(10,this,this.changeRotateion10)},e.prototype.changeRotateion10=function(){Math.floor(this.timber.rotation/360)%2==0?this.rotations=2:this.rotations=3},e.prototype.yunsu11=function(){Laya.timer.loop(10,this,this.changeRotateion11)},e.prototype.changeRotateion11=function(){this.timber.rotation==0+180*this.counter&&(this.rotations=3),this.timber.rotation==360+180*this.counter&&(this.rotations=-3,this.counter+=1)},e.prototype.yunsu13=function(){Laya.timer.loop(10,this,this.changeRotateion13)},e.prototype.changeRotateion13=function(){this.timber.rotation<1092&&(this.rotations=this.rotations),this.timber.rotation>=1092&&(this.rotations=-this.rotations),this.timber.rotation<=0&&(this.rotations=-this.rotations)},e.prototype.yunsu16=function(){Laya.timer.loop(10,this,this.changeRotateion16)},e.prototype.changeRotateion16=function(){this.timber.rotation<732&&(this.rotations=this.rotations),this.timber.rotation>=732&&(this.rotations=-this.rotations),this.timber.rotation<=0&&(this.rotations=-this.rotations)},e.prototype.yunsu1920=function(){Laya.timer.loop(10,this,this.changeRotateion1920)},e.prototype.changeRotateion1920=function(){this.timber.rotation<372&&(this.rotations=this.rotations),this.timber.rotation>=372&&(this.rotations=-this.rotations),this.timber.rotation<=0&&(this.rotations=-this.rotations)},e.prototype.yunsu19=function(){Laya.timer.loop(10,this,this.changeRotateion19)},e.prototype.changeRotateion19=function(){this.timber.rotation%720-310<=2?this.rotations=3:this.timber.rotation%720-320<=2?this.rotations=2.8:this.timber.rotation%720-330<=2?this.rotations=2.6:this.timber.rotation%720-340<=2?this.rotations=2.4:this.timber.rotation%720-350<=2?this.rotations=2.2:this.timber.rotation%720-360<=2?this.rotations=2:this.timber.rotation%720-680<=2?this.rotations=2.2:this.timber.rotation%720-690<=2?this.rotations=2.4:this.timber.rotation%720-700<=2?this.rotations=2.6:this.timber.rotation%720-710<=2?this.rotations=2.8:this.timber.rotation%720-720<=2&&(this.rotations=3)},e.prototype.yunsu20=function(){Laya.timer.loop(10,this,this.changeRotateion20)},e.prototype.changeRotateion20=function(){this.timber.rotation%720-310<=2?this.rotations=3:this.timber.rotation%720-320<=2?this.rotations=2.6:this.timber.rotation%720-330<=2?this.rotations=2.2:this.timber.rotation%720-340<=2?this.rotations=1.8:this.timber.rotation%720-350<=2?this.rotations=1.4:this.timber.rotation%720-360<=2?this.rotations=1.4:this.timber.rotation%720-680<=2?this.rotations=1.4:this.timber.rotation%720-690<=2?this.rotations=1.8:this.timber.rotation%720-700<=2?this.rotations=2.2:this.timber.rotation%720-710<=2?this.rotations=2.6:this.timber.rotation%720-720<=2&&(this.rotations=3)},e.prototype.resetRotateKunai=function(){Laya.timer.loop(10,this,this.rotate2)},e.prototype.rotate2=function(){var t=this;this.insertRotate.forEach(function(e){e.time&&clearInterval(e.time),e.kunai.rotation+=t.rotations})},e.prototype.updateImg=function(){this.timber.loadImage("gameImg/pan_"+this.level+".png"),this.kunai.loadImage("gameImg/dao_"+this.level+".png")},e.prototype.createXudao=function(){for(var t=0;t<this.knifeNum;t++){var e=new r;e.loadImage("gameImg/xudao.png"),e.x=this.xuDao.x,e.y=this.xuDao.y-60*t,this.addChild(e);var i={id:e.rotation,kunai:e};this.leftXu.push(i)}},e.prototype.updateXudao=function(){for(;this.leftXu.length>0;){var t=this.leftXu.pop();null!=t&&t.kunai.destroy(!0)}},e.prototype.createShidao=function(t){for(var e=0;e<t;e++){var i=new r;i.loadImage("gameImg/shidao.png"),i.x=this.shiDao.x,i.y=this.shiDao.y-60*e,this.bgImg.addChild(i);var a={id:i.rotation,kunai:i};this.leftShi.push(a)}},e.prototype.updateShidao=function(t){if(t)for(;this.leftShi.length>0;){null!=(e=this.leftShi.pop())&&e.kunai.destroy(!0)}if(this.leftShi.length>0){var e=this.leftShi.pop();null!=e&&e.kunai.destroy(!0)}else this.updateXudao(),this.createXudao(),this.createShidao(this.knifeNum-1)},e.prototype.playShootSound=function(){switch(this.level){case 1:case 16:m.playSound("sound/zzmt.mp3",1);break;case 2:case 17:m.playSound("sound/hitknife.mp3",1);break;case 3:m.playSound("sound/binggan.mp3",1);break;case 4:case 11:case 12:m.playSound("sound/hitsomething2.mp3",1);break;case 5:case 6:case 10:case 13:case 14:case 15:case 19:m.playSound("sound/zzsg.mp3",1);break;case 7:case 8:case 9:case 18:case 20:m.playSound("sound/zzdp.mp3",1);break;case 10:m.playSound("sound/zzsg.mp3",1)}},e.prototype.playBaokaiSound=function(){switch(this.level){case 1:case 3:case 4:case 6:case 7:case 8:case 9:case 11:case 12:case 16:case 18:case 20:m.playSound("sound/binggan.mp3",1);break;case 2:case 17:m.playSound("sound/qingdu.mp3",1);break;case 5:case 10:case 13:case 14:case 15:case 19:m.playSound("sound/bom.mp3",1)}},e.prototype.showDialog=function(){this.isShooting=!0,this.stopAnimation(),Laya.timer.clear(this,this.updateTime),s.MessageProxy.Instance().SendPostScore(o.PlayerData.Instance().getSayaLevel()),this.level==this.lawanLevel?this.showTie():this.level>this.lawanLevel?this.showWin():this.showLose()},e.prototype.showWin=function(){this.addChild(this.mengban),m.playSound("sound/win.mp3",1),this.winDialog.L1.text=this.text_1.text,this.winDialog.L2.text=this.text_2.text,this.mengban.addChild(this.winDialog)},e.prototype.showLose=function(){this.addChild(this.mengban),m.playSound("sound/over.mp3",1),this.loseDialog.L1.text=this.text_1.text,this.loseDialog.L2.text=this.text_2.text,this.mengban.addChild(this.loseDialog)},e.prototype.showTie=function(){this.addChild(this.mengban),m.playSound("sound/over.mp3",1),this.tieDialog.L1.text=this.text_1.text,this.tieDialog.L2.text=this.text_2.text,this.mengban.addChild(this.tieDialog)},e.prototype.cutDownDialog=function(){this.showDialogTime-=1,this.showDialogTime<=0&&(Laya.timer.clearAll(this),this.removeChildren())},e.prototype.SetUserData=function(t,e){0==t?(this.name_1.text=e.userName,this.touxiang1.loadImage(e.userHead),null!=e.userHeadFrame&&this.duanwei_1.loadImage(e.userHeadFrame)):(this.name_2.text=e.userName,this.touxiang2.loadImage(e.userHead),null!=e.userHeadFrame&&this.duanwei_2.loadImage(e.userHeadFrame))},e.prototype.UpdateScoreData=function(t,e){0==t?this.text_1.text="Level "+e:this.text_2.text="Level "+e},e.prototype.ShowResult=function(t){t>0?(console.log("show result win view"),this.showWin()):0==t?(console.log("show result tie view"),this.showTie()):(console.log("show result lose view"),this.showLose())},e.prototype.OnGameResultClose=function(){s.MessageProxy.Instance().SendGameOver()},e.GAME_END="gameend",e.GAME_RESTART="gamerestart",e.SPEED_SLOW=.01,e}(a.ui.GameViewUI);i.GameView=y},{"../MessageProxy":3,"../logic/PlayerData":4,"../ui/layaMaxUI":5}],7:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a,o=t("../ui/layaMaxUI"),s=t("./GameView");!function(t){t[t.Layer_Start=0]="Layer_Start",t[t.Layer_Play=1]="Layer_Play",t[t.Layer_End=2]="Layer_End"}(a||(a={}));var n=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.init=function(){this.gameView=new s.GameView,this.openView(this.gameView,a.Layer_Play)},e.prototype.openView=function(t,e){switch(e){case a.Layer_Start:this.layer1.addChild(t);break;case a.Layer_Play:this.layer2.addChild(t);break;case a.Layer_End:this.layer3.addChild(t)}},e.prototype.closeView=function(t,e){switch(t.onDestroy(),e){case a.Layer_Start:this.layer1.destroyChildren();break;case a.Layer_Play:this.layer2.destroyChildren();break;case a.Layer_End:this.layer3.destroyChildren()}},e.prototype.onDestory=function(){},e}(o.ui.RootViewUI);i.RootView=n},{"../ui/layaMaxUI":5,"./GameView":6}]},{},[2]);
