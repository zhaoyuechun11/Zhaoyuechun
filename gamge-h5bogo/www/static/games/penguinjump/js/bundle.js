var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var t in i)i.hasOwnProperty(t)&&(a[t]=i[t])};return function(i,t){function e(){this.constructor=i}a(i,t),i.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}}();!function(){function a(i,t,e){function o(s,h){if(!t[s]){if(!i[s]){var r="function"==typeof require&&require;if(!h&&r)return r(s,!0);if(n)return n(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var p=t[s]={exports:{}};i[s][0].call(p.exports,function(a){return o(i[s][1][a]||a)},p,p.exports,a,i,t,e)}return t[s].exports}for(var n="function"==typeof require&&require,s=0;s<e.length;s++)o(e[s]);return o}return a}()({1:[function(a,i,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(a){a[a.start_game=0]="start_game",a[a.preLoad_complete=1]="preLoad_complete",a[a.preLoad_progress=2]="preLoad_progress",a[a.enter_game=3]="enter_game",a[a.over_game=4]="over_game",a[a.game=5]="game",a[a.net_update_score=6]="net_update_score",a[a.net_user_info=7]="net_user_info"}(t.EventEnum||(t.EventEnum={}))},{}],2:[function(a,i,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=function(){function a(){}return a.init=function(){Laya.ClassUtils.regClass},a.width=640,a.height=1136,a.scaleMode="fixedwidth",a.screenMode="none",a.alignV="top",a.alignH="left",a.startScene="RunGameView.scene",a.sceneRoot="",a.debug=!1,a.stat=!1,a.physicsDebug=!1,a.exportSceneToJson=!0,a}();t.default=e,e.init()},{}],3:[function(a,i,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=a("./GameCfg"),o=function(a){function i(){var i=a.call(this)||this;return i.init(),i}return __extends(i,a),i.prototype.init=function(){this.jingwu=new Laya.Image,this.jingwu.x=0,this.jingwu.y=0,this.jingwu.skin="bg/jingwu.png",this.addChild(this.jingwu),this.yue=new Laya.Image,this.yue.x=350,this.yue.y=100,this.yue.skin="bg/yue.png",this.addChild(this.yue),this.yun1=new Laya.Image,this.yun1.x=-120+Math.round(720*Math.random()),this.yun1.y=0+Math.round(399*Math.random()),this.yun1.skin="bg/img_bwqq_yun1.png",this.addChild(this.yun1),this.yun2=new Laya.Image,this.yun2.x=-120+Math.round(720*Math.random()),this.yun2.y=-600+Math.round(399*Math.random()),this.yun2.skin="bg/img_bwqq_yun2.png",this.addChild(this.yun2),this.yun3=new Laya.Image,this.yun3.x=-120+Math.round(720*Math.random()),this.yun3.y=-1400+Math.round(399*Math.random()),this.yun3.skin="bg/img_bwqq_yun3.png",this.addChild(this.yun3),this.yun4=new Laya.Image,this.yun4.x=-120+Math.round(720*Math.random()),this.yun4.y=-1800+Math.round(399*Math.random()),this.yun4.skin="bg/img_bwqq_yun1.png",this.addChild(this.yun4),this.yun5=new Laya.Image,this.yun5.x=-120+Math.round(720*Math.random()),this.yun5.y=-2400+Math.round(399*Math.random()),this.yun5.skin="bg/img_bwqq_yun2.png",this.addChild(this.yun5),this.yun6=new Laya.Image,this.yun6.x=-120+Math.round(720*Math.random()),this.yun6.y=-3e3+Math.round(399*Math.random()),this.yun6.skin="bg/img_bwqq_yun3.png",this.addChild(this.yun6),this.yun7=new Laya.Image,this.yun7.x=-120+Math.round(720*Math.random()),this.yun7.y=-3600+Math.round(399*Math.random()),this.yun7.skin="bg/img_bwqq_yun1.png",this.addChild(this.yun7),this.yun8=new Laya.Image,this.yun8.x=-120+Math.round(720*Math.random()),this.yun8.y=-4400+Math.round(399*Math.random()),this.yun8.skin="bg/img_bwqq_yun2.png",this.addChild(this.yun8),this.yun9=new Laya.Image,this.yun9.x=-120+Math.round(720*Math.random()),this.yun9.y=-4800+Math.round(399*Math.random()),this.yun9.skin="bg/img_bwqq_yun3.png",this.addChild(this.yun9)},i.prototype.down=function(){this.jingwu.y+=(e.default.haibaoHeight-12)/15,this.yue.y+=(e.default.haibaoHeight-12)/15*.2,this.yun1.y+=(e.default.haibaoHeight-12)/15*.5,this.yun2.y+=(e.default.haibaoHeight-12)/15*.5,this.yun3.y+=(e.default.haibaoHeight-12)/15*.5,this.yun4.y+=(e.default.haibaoHeight-12)/15*.5,this.yun5.y+=(e.default.haibaoHeight-12)/15*.5,this.yun6.y+=(e.default.haibaoHeight-12)/15*.5,this.yun7.y+=(e.default.haibaoHeight-12)/15*.5,this.yun8.y+=(e.default.haibaoHeight-12)/15*.5,this.yun9.y+=(e.default.haibaoHeight-12)/15*.5},i.prototype.downStop=function(){},i}(Laya.Image);t.default=o},{"./GameCfg":4}],4:[function(a,i,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=function(){function a(){}return a.GameWidth=720,a.GameHeight=1440,a.FloorHeight=1270,a.haibaoWidth=216,a.haibaoHeight=144,a.jingyuWidth=400,a.jingyuHeight=200,a.playWidth=230,a.playHeight=190,a.speed=8,a.isPause=!0,a.isOver=!1,a}();t.default=e},{}],5:[function(a,i,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=a("../Enum/EventEnum"),o=a("../manage/EventManage"),n=a("./RunGameView"),s=a("../manage/GameManage"),h=a("./Player"),r=a("./GameCfg"),u=a("./Haibao"),p=a("./BackgroundItem"),l=a("../MessageProxy"),d=function(){function a(){this.haibaoNum=1,this.jingyuNum=0,this.isHitHaibao=!1,this.isJumpping=!0,this.haibaos=[],this.haibaosX=[],this.snowing=new Laya.Animation,this.comboCount=0,this.addScore=1,this.userScore=0,this.oppositeScore=0,this.gameTime=90,this.AddListener()}return a.prototype.AddListener=function(){o.EventManage.Instance().AddListener(e.EventEnum.preLoad_complete,this.EnterGame.bind(this))},a.prototype.EnterGame=function(){this.mRunGameView=new n.RunGameView,s.GameManage.Instance().mRoot.addChild(this.mRunGameView),l.MessageProxy.Instance().InitProxy(),l.MessageProxy.Instance().SetGameView(this.mRunGameView),l.MessageProxy.Instance().SendLoadReady(),this.playerId=1+Math.round(1*Math.random()),this.bgItem=new p.default,this.mRunGameView.addChild(this.bgItem),this.snowing.loadAtlas("res/atlas/xuehua.atlas"),this.timeL=new Laya.Label,this.timeL.x=this.mRunGameView.timeLeft.x,this.timeL.y=this.mRunGameView.timeLeft.y,this.timeL.color="#FFFFFF",this.timeL.fontSize=72,this.timeL.text="9",this.mRunGameView.addChild(this.timeL),this.timeR=new Laya.Label,this.timeR.x=this.mRunGameView.timeRight.x,this.timeR.y=this.mRunGameView.timeRight.y,this.timeR.color="#FFFFFF",this.timeR.fontSize=72,this.timeR.text="0",this.mRunGameView.addChild(this.timeR),Laya.timer.once(1e3,this,this.readyGo),this.addScoreBox=new Laya.Box,this.mRunGameView.addChild(this.addScoreBox)},a.prototype.showTime=function(){this.mRunGameView.init(),Laya.timer.loop(1e3,this,this.updateTime)},a.prototype.setTime=function(a){this.gameTime=a},a.prototype.updateTime=function(){if(this.gameTime>0){this.gameTime-=1;var a=this.gameTime.toString();a.length>1?(this.timeL.text=a[0],this.timeR.text=a[1]):(this.timeL.text="0",this.timeR.text=a[0])}else Laya.timer.clear(this,this.updateTime),Laya.timer.clear(this,this.onLoop),Laya.stage.offAll(),r.default.speed=0,this.isJumpping=!0,this.player.stopPlay(),this.haibao.stopHaibao(),console.log("GameOver");this.gameTime<10&&this.gameTime>=0&&(Laya.SoundManager.playSound("sound/time.mp3",1),0==this.gameTime&&(Laya.timer.clear(this,this.updateTime),Laya.timer.clear(this,this.onLoop),Laya.stage.offAll(),r.default.speed=0,this.isJumpping=!0,this.player.stopPlay(),this.haibao.stopHaibao(),console.log("GameOver")))},a.prototype.readyGo=function(){var a=this;Laya.SoundManager.playSound("sound/readygo.mp3",1);var i=new Laya.Image;i.x=r.default.GameWidth/2,i.y=r.default.GameHeight/2,i.pivot(180,57),i.scale(1,1),i.skin="bg/ready.png",this.mRunGameView.addChild(i),Laya.Tween.to(i,{scaleX:1,scaleY:1},600,null,Laya.Handler.create(this,function(){i.destroy()})),Laya.timer.once(500,this,function(){var i=new Laya.Image;i.x=r.default.GameWidth/2,i.y=r.default.GameHeight/2,i.pivot(104,52),i.scale(.1,.1),i.skin="bg/go.png",a.mRunGameView.addChild(i),Laya.Tween.to(i,{scaleX:1,scaleY:1},400,null,Laya.Handler.create(a,function(){i.destroy(),a.gameStart(),a.showTime(),Laya.SoundManager.playMusic("sound/bg.mp3",0),l.MessageProxy.Instance().SendGameReady()}))})},a.prototype.showSnowing=function(){this.snowing.scaleX=4,this.snowing.scaleY=4,this.snowing.x=0,this.snowing.y=0,this.mRunGameView.addChild(this.snowing),this.snowing.play(0,!1)},a.prototype.gameStart=function(){Laya.timer.clear(this,this.onLoop),0==this.gameTime?this.isJumpping=!0:this.isJumpping=!1,r.default.isOver=!1,this.itemPoint=new Laya.Point,this.newPlayer()},a.prototype.getHaibao=function(a){var i=this;this.haibao=new u.default,this.haibao.once(u.default.OUT_COMPLETE_UP,this,this.getHaibao),this.mRunGameView.addChild(this.haibao),1==this.isHitHaibao&&(this.isHitHaibao=!1,this.haibao.setIsHitPause(!0),Laya.timer.once(2e3,this,function(){i.haibao.setIsHitPause(!1)}))},a.prototype.rotatoPlayerRight=function(){this.player.rotation+=2},a.prototype.rotatoPlayerLeft=function(){this.player.rotation-=2},a.prototype.rotateHaibaoRight=function(){this.haibao.rotation+=1},a.prototype.rotateHaibaoLeft=function(){this.haibao.rotation-=1},a.prototype.onLoop=function(){var a=this;if(1==this.haibaoLocation){if(this.haibao.x<(r.default.GameWidth-80)/2)this.player.y+.75*r.default.playHeight>r.default.FloorHeight+16&&(this.player.stopPlay(),this.player.y=r.default.FloorHeight-.75*r.default.playHeight+16,this.player.jumpReset(),this.isJumpping=!1);else if(this.haibao.x==(r.default.GameWidth-80)/2)this.haibao.y<this.player.y+.75*r.default.playHeight+2&&(this.comboCount=0,this.haibaosX.length=0,this.player.gotoHit(),this.isHitHaibao=!0,Laya.timer.loop(10,this,this.rotatoPlayerRight),Laya.SoundManager.playSound("sound/hitted.mp3",1),Laya.Tween.to(this.player,{x:r.default.GameWidth+600-r.default.haibaoWidth,y:this.player.y-100},2e3,Laya.Ease.backOut,Laya.Handler.create(this,function(){Laya.timer.clear(a,a.rotatoPlayerRight)})),Laya.timer.loop(10,this,this.rotateHaibaoLeft),Laya.Tween.to(this.haibao,{x:0-r.default.haibaoWidth,y:this.haibao.y-50},1500,Laya.Ease.backOut,Laya.Handler.create(this,function(){Laya.timer.clear(a,a.rotateHaibaoLeft),a.haibao.destroy()})),Laya.timer.clear(this,this.onLoop),Laya.timer.once(1e3,this,this.gameStart));else if(Math.abs(this.player.y+.75*r.default.playHeight-this.haibao.y)<=10){this.player.y=this.haibao.y-(.75*r.default.playHeight-12);i={haibao:this.haibao};6==this.haibaoId?this.haibaosX.push(this.haibao.x-r.default.jingyuWidth/2):this.haibaosX.push(this.haibao.x-r.default.haibaoWidth/2),this.haibaosX.length>1?this.haibaosX[this.haibaosX.length-1]==this.haibaosX[this.haibaosX.length-2]?(this.comboBox=new Laya.Box,this.mRunGameView.addChild(this.comboBox),this.comboCount+=1,this.showComboCount(this.comboBox,this.comboCount,1,50),Laya.SoundManager.playSound("sound/combo.mp3",1)):(Laya.SoundManager.playSound("sound/luodi.mp3",1),this.comboCount=0):Laya.SoundManager.playSound("sound/luodi.mp3",1),this.haibaoNum<=3?(this.haibao.stopHaibao(),this.haibao.hitted(),this.player.stopPlay(),this.showQihuan(),Laya.timer.clear(this,this.onLoop),this.haibaos.push(i),this.haibaoNum++,r.default.FloorHeight=r.default.FloorHeight-(r.default.haibaoHeight-18),this.player.jumpReset(),this.isJumpping=!1,Laya.timer.once(599,this,function(){a.newHaibao()}),Laya.timer.loop(10,this,this.onLoop)):(this.haibao.stopHaibao(),this.haibao.hitted(),this.player.stopPlay(),this.showQihuan(),Laya.timer.clear(this,this.onLoop),this.haibaos.push(i),Laya.timer.loop(10,this,this.downOnLoop)),0==this.comboCount?(this.addScore=1,this.showAddScore(this.addScoreBox,this.addScore,1,50),this.userScore+=this.addScore,this.mRunGameView.updateScore(this.userScore)):(this.addScore=2,this.showAddScore(this.addScoreBox,this.addScore*this.comboCount,1,50),this.userScore+=this.addScore*this.comboCount,this.mRunGameView.updateScore(this.userScore)),l.MessageProxy.Instance().SendPostScore(this.userScore),this.haibaos.length>6&&this.haibaos.shift()}}else if(this.haibao.x>(r.default.GameWidth+80)/2)this.player.y+.75*r.default.playHeight>r.default.FloorHeight+16&&(this.player.stopPlay(),this.player.y=r.default.FloorHeight-.75*r.default.playHeight+16,this.player.jumpReset(),this.isJumpping=!1);else if(this.haibao.x==(r.default.GameWidth+80)/2)this.haibao.y<this.player.y+.75*r.default.playHeight+2&&(this.comboCount=0,this.haibaosX.length=0,this.player.gotoHit(),this.isHitHaibao=!0,Laya.timer.loop(10,this,this.rotatoPlayerLeft),Laya.SoundManager.playSound("sound/hitted.mp3",1),Laya.Tween.to(this.player,{x:-500,y:this.player.y-10},2e3,Laya.Ease.backOut,Laya.Handler.create(this,function(){Laya.timer.clear(a,a.rotatoPlayerLeft)})),Laya.timer.loop(10,this,this.rotateHaibaoRight),Laya.Tween.to(this.haibao,{x:r.default.GameWidth+r.default.haibaoWidth,y:this.haibao.y-10},1500,Laya.Ease.backOut,Laya.Handler.create(this,function(){Laya.timer.clear(a,a.rotateHaibaoRight),a.haibao.destroy()})),Laya.timer.clear(this,this.onLoop),Laya.timer.once(1e3,this,this.gameStart));else if(Math.abs(this.player.y+.75*r.default.playHeight-this.haibao.y)<=10){this.player.y=this.haibao.y-(.75*r.default.playHeight-12);var i={haibao:this.haibao};6==this.haibaoId?this.haibaosX.push(this.haibao.x+r.default.jingyuWidth/2):this.haibaosX.push(this.haibao.x+r.default.haibaoWidth/2),this.haibaosX.length>1?this.haibaosX[this.haibaosX.length-1]==this.haibaosX[this.haibaosX.length-2]?(this.comboBox=new Laya.Box,this.mRunGameView.addChild(this.comboBox),this.comboCount+=1,this.showComboCount(this.comboBox,this.comboCount,1,50),Laya.SoundManager.playSound("sound/combo.mp3",1)):(Laya.SoundManager.playSound("sound/luodi.mp3",1),this.comboCount=0):Laya.SoundManager.playSound("sound/luodi.mp3",1),this.haibaoNum<=3?(this.haibao.stopHaibao(),this.haibao.hitted(),this.player.stopPlay(),this.showQihuan(),Laya.timer.clear(this,this.onLoop),this.haibaos.push(i),this.haibaoNum++,r.default.FloorHeight=r.default.FloorHeight-(r.default.haibaoHeight-18),this.player.jumpReset(),this.isJumpping=!1,Laya.timer.once(599,this,function(){a.newHaibao()}),Laya.timer.loop(10,this,this.onLoop)):(this.haibao.stopHaibao(),this.haibao.hitted(),this.player.stopPlay(),this.showQihuan(),Laya.timer.clear(this,this.onLoop),this.haibaos.push(i),Laya.timer.loop(10,this,this.downOnLoop)),0==this.comboCount?(this.addScore=1,this.showAddScore(this.addScoreBox,this.addScore,1,50),this.userScore+=this.addScore,this.mRunGameView.updateScore(this.userScore)):(this.addScore=2,this.showAddScore(this.addScoreBox,this.addScore*this.comboCount,1,50),this.userScore+=this.addScore*this.comboCount,this.mRunGameView.updateScore(this.userScore)),l.MessageProxy.Instance().SendPostScore(this.userScore),this.haibaos.length>6&&this.haibaos.shift()}},a.prototype.showAddScore=function(a,i,t,e){a.alpha=1;var o=new Laya.Image;o.scale(1,1),o.x=r.default.GameWidth/2-50,o.y=this.player.y-r.default.haibaoHeight/2+5,o.skin="bg/+.png",a.addChild(o);for(var n=i.toString(),s=0;s<n.length;s++){var h=new Laya.Image;h.scale(t,t),h.skin="bg/"+n[s]+".png",a.addChild(h),h.x=o.x+60+s*e,h.y=this.player.y-r.default.haibaoHeight/2}Laya.Tween.to(a,{alpha:0},500,null,Laya.Handler.create(this,function(){a.destroyChildren()}))},a.prototype.showComboCount=function(a,i,t,e){var o=new Laya.Image;o.scale(.8,.8),o.x=r.default.GameWidth/2,o.y=this.player.y+.75*r.default.playHeight*.9+2,o.skin="bg/combo.png",a.addChild(o);var n=new Laya.Image;n.x=r.default.GameWidth/2+160,n.y=this.player.y+.75*r.default.playHeight*.9,n.skin="bg/x.png",a.addChild(n);for(var s=i.toString(),h=0;h<s.length;h++){var u=new Laya.Image;u.scale(t,t),u.skin="bg/"+s[h]+".png",a.addChild(u),u.x=n.x+50+h*e,u.y=this.player.y+.75*r.default.playHeight*.9-5}Laya.Tween.to(a,{y:r.default.haibaoHeight,alpha:0},1e3,null,Laya.Handler.create(this,function(){a.destroyChildren()}));var p=new Laya.Image;p.x=-30,p.y=-20,p.skin="bg/guanga.png",this.haibao.addChild(p),Laya.Tween.to(p,{alpha:0},500,null,Laya.Handler.create(this,function(){p.destroy()}));var l=new Laya.Image;l.x=r.default.haibaoWidth+20,l.y=-20,l.skin="bg/guangb.png",this.haibao.addChild(l),Laya.Tween.to(l,{alpha:0},500,null,Laya.Handler.create(this,function(){l.destroy()}));var d=new Laya.Image;d.x=0,d.y=-90,d.scale(.9,.9),d.skin="bg/wuxing.png",this.haibao.addChild(d),Laya.Tween.to(d,{x:-50,y:-100,scaleX:.3,scaleY:.3,alpha:.3},1e3,null,Laya.Handler.create(this,function(){d.destroy()}));var y=new Laya.Image;y.x=-50,y.y=-20,y.scale(.9,.9),y.skin="bg/wuxing.png",this.haibao.addChild(y),Laya.Tween.to(y,{x:-50,y:-100,scaleX:.3,scaleY:.3,alpha:.3},1e3,null,Laya.Handler.create(this,function(){y.destroy()}))},a.prototype.showQihuan=function(){var a=new Laya.Image;a.x=r.default.playWidth/2,a.y=r.default.playHeight,a.pivot(170,65),a.scale(.5,.5),a.skin="bg/qihuan.png",this.player.addChild(a),Laya.Tween.to(a,{scaleX:1.5,scaleY:1.5,alpha:0},500,null,Laya.Handler.create(this,function(){a.destroy()}))},a.prototype.downOnLoop=function(){var a=this;if(this.haibaos[this.haibaos.length-1].haibao.y<=r.default.FloorHeight){for(var i=this.haibaos.length;i>=1;i--)this.haibaos[i-1].haibao.y+=(r.default.haibaoHeight-12)/15;this.player.y+=(r.default.haibaoHeight-12)/15,this.bgItem.down()}else Laya.timer.clear(this,this.downOnLoop),this.player.jumpReset(),Laya.timer.once(399,this,function(){a.newHaibao()}),this.isJumpping=!1,Laya.timer.loop(10,this,this.onLoop)},a.prototype.onMouseDown=function(){this.isJumpping||(Laya.SoundManager.playSound("sound/jump.mp3",1),this.player.jump()),this.isJumpping=!0},a.prototype.newHaibao=function(){this.xuehuaId=1+Math.round(4*Math.random()),5==this.xuehuaId&&this.showSnowing(),this.haibao=new u.default,this.haibaoLocation=1+Math.round(1*Math.random()),this.haibao.setHaibaoLocation(this.haibaoLocation),this.haibaoNum>=4?this.haibaoId=1+Math.round(5*Math.random()):this.haibaoId=1+Math.round(4*Math.random()),this.haibao.setHaibaoId(this.haibaoId),this.haibao.once(u.default.OUT_COMPLETE_UP,this,this.getHaibao),6==this.haibaoId?this.haibao.y=r.default.FloorHeight-(r.default.jingyuHeight-20):this.haibao.y=r.default.FloorHeight-(r.default.haibaoHeight-18),1==this.haibaoLocation?(this.haibao.scale(-.8,.8),this.haibao.x=0):(this.haibao.scale(.8,.8),this.haibao.x=r.default.GameWidth),this.haibao.init(),this.mRunGameView.addChild(this.haibao),0!=this.comboCount?r.default.speed=10:r.default.speed=8,0==this.gameTime&&(Laya.timer.clear(this,this.updateTime),Laya.timer.clear(this,this.onLoop),Laya.stage.offAll(),r.default.speed=0,this.isJumpping=!0,this.player.stopPlay(),this.haibao.stopHaibao(),console.log("GameOver"))},a.prototype.newPlayer=function(){this.player=new h.default,this.isJumpping=!0,this.player.zOrder=1,this.player.scale(.75,.75),Laya.timer.clear(this,this.rotatoPlayerRight),Laya.timer.clear(this,this.rotatoPlayerLeft),this.player.setPlayId(this.playerId),1==this.playerId?r.default.playHeight=190:r.default.playHeight=200,this.player.x=(Laya.stage.width-.75*r.default.playWidth)/2,this.player.y=r.default.FloorHeight-.75*r.default.playHeight+12,this.player.init(),this.mRunGameView.addChild(this.player),Laya.Tween.to(this.player,{alpha:0},100,null,Laya.Handler.create(this,this.cleanLoop1))},a.prototype.cleanLoop1=function(){Laya.Tween.to(this.player,{alpha:1},100,null,Laya.Handler.create(this,this.cleanLoop2))},a.prototype.cleanLoop2=function(){Laya.Tween.to(this.player,{alpha:0},100,null,Laya.Handler.create(this,this.cleanLoop3))},a.prototype.cleanLoop3=function(){var a=this;Laya.Tween.to(this.player,{alpha:1},100,null,Laya.Handler.create(this,function(){a.cleanLoop4(),a.isJumpping=!1,a.isJumpping||a.mRunGameView.on(Laya.Event.MOUSE_DOWN,a,a.onMouseDown)}))},a.prototype.cleanLoop4=function(){var a=this;Laya.Tween.to(this.player,{alpha:1},500,null,Laya.Handler.create(this,function(){a.newHaibao(),Laya.timer.loop(10,a,a.onLoop),0==a.gameTime&&(Laya.timer.clear(a,a.updateTime),Laya.timer.clear(a,a.onLoop),Laya.stage.offAll(),r.default.speed=0,a.isJumpping=!0,a.player.stopPlay(),a.haibao.stopHaibao(),console.log("GameOver"))}))},a}();t.GameController=d},{"../Enum/EventEnum":1,"../MessageProxy":10,"../manage/EventManage":13,"../manage/GameManage":14,"./BackgroundItem":3,"./GameCfg":4,"./Haibao":6,"./Player":7,"./RunGameView":8}],6:[function(a,i,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=Laya.Image,o=a("./GameCfg"),n=Laya.Animation,s=function(a){function i(){var i=a.call(this)||this;return i.isHitPause=!1,i.haibaoId=0,i.haibaoLocation=0,i.isOutComplete=!1,i.isHitAniComplete=!0,i}return __extends(i,a),i.prototype.setHaibaoId=function(a){this.haibaoId=a},i.prototype.setHaibaoLocation=function(a){this.haibaoLocation=a},i.prototype.getType=function(){return this.HaibaoType},i.prototype.init=function(){switch(this.haibaoId){case 1:n.createFrames(["haibao/blue/01/lanhaibao01.png","haibao/blue/01/lanhaibao02.png","haibao/blue/01/lanhaibao03.png","haibao/blue/01/lanhaibao04.png","haibao/blue/01/lanhaibao05.png","haibao/blue/01/lanhaibao06.png"],i.NORMAL),n.createFrames(["haibao/blue/02/lanhaibaoku01.png","haibao/blue/02/lanhaibaoku02.png","haibao/blue/02/lanhaibaoku03.png","haibao/blue/02/lanhaibaoku04.png"],i.HITTED);break;case 2:n.createFrames(["haibao/yellow/01/huanghaibao01.png","haibao/yellow/01/huanghaibao02.png","haibao/yellow/01/huanghaibao03.png","haibao/yellow/01/huanghaibao04.png","haibao/yellow/01/huanghaibao05.png","haibao/yellow/01/huanghaibao06.png"],i.NORMAL),n.createFrames(["haibao/yellow/02/huanghaibaoku01.png","haibao/yellow/02/huanghaibaoku02.png","haibao/yellow/02/huanghaibaoku03.png","haibao/yellow/02/huanghaibaoku04.png"],i.HITTED);break;case 3:n.createFrames(["haibao/pink/01/fenhaibao01.png","haibao/pink/01/fenhaibao02.png","haibao/pink/01/fenhaibao03.png","haibao/pink/01/fenhaibao04.png","haibao/pink/01/fenhaibao05.png","haibao/pink/01/fenhaibao06.png"],i.NORMAL),n.createFrames(["haibao/pink/02/fenhaibaoku01.png","haibao/pink/02/fenhaibaoku02.png","haibao/pink/02/fenhaibaoku03.png","haibao/pink/02/fenhaibaoku04.png"],i.HITTED);break;case 4:n.createFrames(["haibao/gray/01/huihaibao01.png","haibao/gray/01/huihaibao02.png","haibao/gray/01/huihaibao03.png","haibao/gray/01/huihaibao04.png","haibao/gray/01/huihaibao05.png","haibao/gray/01/huihaibao06.png"],i.NORMAL),n.createFrames(["haibao/gray/02/huihaibaoku01.png","haibao/gray/02/huihaibaoku02.png","haibao/gray/02/huihaibaoku03.png","haibao/gray/02/huihaibaoku04.png"],i.HITTED);break;case 5:n.createFrames(["haibao/ice/01/bingkuai01.png","haibao/ice/01/bingkuai02.png","haibao/ice/01/bingkuai03.png","haibao/ice/01/bingkuai04.png","haibao/ice/01/bingkuai05.png","haibao/ice/01/bingkuai06.png","haibao/ice/01/bingkuai07.png","haibao/ice/01/bingkuai08.png"],i.NORMAL),n.createFrames(["haibao/ice/02/bingkuaibeiji01.png","haibao/ice/02/bingkuaibeiji02.png"],i.HITTED);break;case 6:n.createFrames(["haibao/jingyu/01/jinyuguaidaiji01.png","haibao/jingyu/01/jinyuguaidaiji02.png"],i.NORMAL),n.createFrames(["haibao/jingyu/02/jinyuguaibeiji01.png","haibao/jingyu/02/jinyuguaibeiji01.png"],i.HITTED)}null==this.body&&(this.body=new n,this.body.interval=160,this.addChild(this.body)),this.playAction(i.NORMAL),Laya.timer.loop(10,this,this.onLoop)},i.prototype.playAction=function(a){this.action!=a&&(this.action=a,a==i.HITTED?this.body.play(0,!1,this.action):a==i.NORMAL&&this.body.play(0,!0,this.action))},i.prototype.normal=function(){this.playAction(i.NORMAL)},i.prototype.hitted=function(){this.playAction(i.HITTED)},i.prototype.hittedReset=function(){this.normal()},i.prototype.onLoop=function(){1==this.haibaoLocation?6==this.haibaoId?!this.isOutComplete&&(o.default.GameWidth+o.default.jingyuWidth)/2-this.x<=5?(this.x=(o.default.GameWidth+o.default.jingyuWidth)/2,this.stopHaibao()):this.x+=o.default.speed:!this.isOutComplete&&(o.default.GameWidth+o.default.haibaoWidth)/2-this.x<=5?(this.x=(o.default.GameWidth+o.default.haibaoWidth)/2,this.stopHaibao()):this.x+=o.default.speed:6==this.haibaoId?!this.isOutComplete&&this.x-(o.default.GameWidth-o.default.jingyuWidth)/2<=5?(this.x=(o.default.GameWidth-o.default.jingyuWidth)/2,this.stopHaibao()):this.x-=o.default.speed:!this.isOutComplete&&this.x-(o.default.GameWidth-o.default.haibaoWidth)/2<=5?(this.x=(o.default.GameWidth-o.default.haibaoWidth)/2,this.stopHaibao()):this.x-=o.default.speed},i.prototype.setIsHitPause=function(a){this.isHitPause=a},i.prototype.stopHaibao=function(){var a=this;Laya.timer.clear(this,this.onLoop),Laya.timer.once(500,this,function(){a.hittedReset()})},i.NORMAL="haibao_normal",i.HITTED="haibao_hitted",i.OUT_COMPLETE_UP="out_complete_up",i.cached=!1,i}(e);t.default=s},{"./GameCfg":4}],7:[function(a,i,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=a("./GameCfg"),o=laya.ui.Image,n=laya.display.Animation,s=laya.utils.Tween,h=laya.utils.Handler,r=function(a){function i(){var i=a.call(this)||this;return i.isHitAniComplete=!0,i.playId=0,i.jumpCount=0,i.jumpCountMax=1,i.vy=0,i.downSpeed=1.3,i.maxVy=25,i}return __extends(i,a),Object.defineProperty(i,"Default",{get:function(){return null==this._defualt&&(this._defualt=new i),this._defualt},enumerable:!0,configurable:!0}),i.prototype.setPlayId=function(a){this.playId=a},i.prototype.init=function(){if(!i.cached)switch(i.cached=!0,this.playId){case 1:n.createFrames(["xiaoji/station/xiaojidaiji01.png","xiaoji/station/xiaojidaiji02.png","xiaoji/station/xiaojidaiji03.png","xiaoji/station/xiaojidaiji04.png","xiaoji/station/xiaojidaiji05.png","xiaoji/station/xiaojidaiji06.png","xiaoji/station/xiaojidaiji07.png","xiaoji/station/xiaojidaiji08.png"],i.NEW),n.createFrames(["xiaoniao/station/xiaoniaodaiji01.png","xiaoniao/station/xiaoniaodaiji02.png","xiaoniao/station/xiaoniaodaiji03.png","xiaoniao/station/xiaoniaodaiji04.png","xiaoniao/station/xiaoniaodaiji05.png","xiaoniao/station/xiaoniaodaiji06.png","xiaoniao/station/xiaoniaodaiji07.png","xiaoniao/station/xiaoniaodaiji08.png","xiaoniao/station/xiaoniaodaiji09.png","xiaoniao/station/xiaoniaodaiji10.png","xiaoniao/station/xiaoniaodaiji11.png","xiaoniao/station/xiaoniaodaiji12.png","xiaoniao/station/xiaoniaodaiji13.png","xiaoniao/station/xiaoniaodaiji14.png"],i.STATION),n.createFrames(["xiaoniao/hit/xiaoniaobeiji01.png","xiaoniao/hit/xiaoniaobeiji02.png","xiaoniao/hit/xiaoniaobeiji03.png","xiaoniao/hit/xiaoniaobeiji04.png","xiaoniao/hit/xiaoniaobeiji05.png","xiaoniao/hit/xiaoniaobeiji06.png","xiaoniao/hit/xiaoniaobeiji07.png","xiaoniao/hit/xiaoniaobeiji08.png","xiaoniao/hit/xiaoniaobeiji09.png","xiaoniao/hit/xiaoniaobeiji10.png","xiaoniao/hit/xiaoniaobeiji11.png","xiaoniao/hit/xiaoniaobeiji12.png","xiaoniao/hit/xiaoniaobeiji13.png","xiaoniao/hit/xiaoniaobeiji14.png"],i.HIT),n.createFrames(["xiaoniao/jump/xiaoniaotiaoyue01.png","xiaoniao/jump/xiaoniaotiaoyue02.png","xiaoniao/jump/xiaoniaotiaoyue03.png","xiaoniao/jump/xiaoniaotiaoyue04.png","xiaoniao/jump/xiaoniaotiaoyue05.png","xiaoniao/jump/xiaoniaotiaoyue06.png","xiaoniao/jump/xiaoniaotiaoyue07.png","xiaoniao/jump/xiaoniaotiaoyue08.png","xiaoniao/jump/xiaoniaotiaoyue09.png","xiaoniao/jump/xiaoniaotiaoyue10.png","xiaoniao/jump/xiaoniaotiaoyue11.png","xiaoniao/jump/xiaoniaotiaoyue12.png","xiaoniao/jump/xiaoniaotiaoyue13.png","xiaoniao/jump/xiaoniaotiaoyue14.png"],i.JUMP);break;case 2:n.createFrames(["xiaoji/station/xiaojidaiji01.png","xiaoji/station/xiaojidaiji02.png","xiaoji/station/xiaojidaiji03.png","xiaoji/station/xiaojidaiji04.png","xiaoji/station/xiaojidaiji05.png","xiaoji/station/xiaojidaiji06.png","xiaoji/station/xiaojidaiji07.png","xiaoji/station/xiaojidaiji08.png"],i.STATION),n.createFrames(["xiaoji/hit/xiaojibeiji01.png","xiaoji/hit/xiaojibeiji02.png","xiaoji/hit/xiaojibeiji03.png","xiaoji/hit/xiaojibeiji04.png","xiaoji/hit/xiaojibeiji05.png","xiaoji/hit/xiaojibeiji06.png","xiaoji/hit/xiaojibeiji07.png","xiaoji/hit/xiaojibeiji08.png"],i.HIT),n.createFrames(["xiaoji/jump/xiaojitiaoyue01.png","xiaoji/jump/xiaojitiaoyue02.png","xiaoji/jump/xiaojitiaoyue03.png","xiaoji/jump/xiaojitiaoyue04.png","xiaoji/jump/xiaojitiaoyue05.png","xiaoji/jump/xiaojitiaoyue06.png","xiaoji/jump/xiaojitiaoyue07.png","xiaoji/jump/xiaojitiaoyue08.png"],i.JUMP)}null==this.body&&(this.body=new n,this.body.interval=160,this.addChild(this.body)),this.playAction(i.STATION)},i.prototype.playAction=function(a){this.action!=a&&(this.action=a,a==i.HIT?this.body.play(0,!0,this.action):(this.action,this.body.play(0,!0,this.action)))},i.prototype.onLoop=function(){this.y<e.default.FloorHeight&&(this.y+=this.vy,this.vy+=this.downSpeed),this.vy>this.maxVy&&(this.vy=this.maxVy)},i.prototype.gotoJump=function(){this.playAction(i.JUMP)},i.prototype.gotoStation=function(){this.playAction(i.STATION)},i.prototype.gotoNew=function(){this.playAction(i.NEW)},i.prototype.getIsHitComplete=function(){return this.isHitAniComplete},i.prototype.gotoHit=function(){var a=this;this.isHitAniComplete=!1,this.jumpCount++,this.playAction(i.HIT),Laya.timer.once(2e3,this,function(){a.jumpReset(),a.isHitAniComplete=!0})},i.prototype.jump=function(){Laya.timer.loop(10,this,this.onLoop),this.isHitAniComplete&&this.jumpCount<this.jumpCountMax&&(this.vy=-25,this.jumpCount++,this.gotoJump())},i.prototype.jumpReset=function(){this.vy=0,this.jumpCount=0,this.gotoStation()},i.prototype.getAction=function(){return this.action},i.prototype.setAction=function(a){this.action=a},i.prototype.showEffect=function(){e.default.isPause=!0,e.default.speed=e.default.speed,this.spiritEffect.visible=!0,s.to(this.spiritEffect,{scaleX:.1,scaleY:.1,rotation:360},1e3,null,h.create(this,this.spiritEffectTweenComplete))},i.prototype.spiritEffectTweenComplete=function(){this.spiritEffect.visible=!1,this.spiritEffect.scale(5,5),e.default.isPause=!1},i.prototype.stopPlay=function(){Laya.timer.clear(this,this.onLoop),this.playAction(i.STATION)},i.STATION="player_station",i.HIT="player_hit",i.JUMP="player_jump",i.NEW="player_new",i.cached=!1,i}(o);t.default=r},{"./GameCfg":4}],8:[function(a,i,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=a("../ui/layaMaxUI"),o=a("./GameController"),n=a("../MessageProxy"),s=function(a){function i(){var i=a.call(this)||this;return i.gameTime=20,i.init(),i.gameController=new o.GameController,i.mGameOverDialog=new e.ui.GameOverDialogUI,i.mGameOverDialog.x=0,i.mGameOverDialog.y=0,i.mGameOverDialog.zOrder=10,i.addChild(i.mGameOverDialog),i}return __extends(i,a),i.prototype.init=function(){this.score_1.text="0",this.score_2.text="0"},i.prototype.updateScore=function(a){this.score_1.text=a},i.prototype.showFinishDialog=function(a,i){a>i?this.showWin():a<i?this.showLose():this.showTie(),this.addChild(this.mGameOverDialog)},i.prototype.showWin=function(){this.gameController.setTime(0),Laya.SoundManager.stopSound("sound/bg.mp3"),Laya.SoundManager.playSound("sound/win.mp3",1),this.mGameOverDialog.winImg.visible=!0,this.mGameOverDialog.winBg.visible=!0,this.mGameOverDialog.loseImg.visible=!1,this.mGameOverDialog.tieImg.visible=!1,this.startAnimation()},i.prototype.startAnimation=function(){Laya.timer.frameLoop(1,this,this.loopAnimate)},i.prototype.loopAnimate=function(){this.mGameOverDialog.winBg.rotation+=2},i.prototype.showTie=function(){this.gameController.setTime(0),Laya.SoundManager.stopSound("sound/bg.mp3"),Laya.SoundManager.playSound("sound/over.mp3",1),this.mGameOverDialog.winImg.visible=!1,this.mGameOverDialog.winBg.visible=!1,this.mGameOverDialog.loseImg.visible=!1,this.mGameOverDialog.tieImg.visible=!0},i.prototype.showLose=function(){this.gameController.setTime(0),Laya.SoundManager.stopSound("sound/bg.mp3"),Laya.SoundManager.playSound("sound/over.mp3",1),this.mGameOverDialog.winImg.visible=!1,this.mGameOverDialog.winBg.visible=!1,this.mGameOverDialog.loseImg.visible=!0,this.mGameOverDialog.tieImg.visible=!1},i.prototype.SetUserData=function(a,i){0==a?(this.name_1.text=i.userName,this.touxiang_1.loadImage(i.userHead),""!=i.userHeadFrame&&this.touxiangkuang_1.loadImage(i.userHeadFrame)):(this.name_2.text=i.userName,this.touxiang_2.loadImage(i.userHead),""!=i.userHeadFrame&&this.touxiangkuang_2.loadImage(i.userHeadFrame))},i.prototype.UpdateScoreData=function(a,i){0==a?this.score_1.text=i:this.score_2.text=i},i.prototype.ShowResult=function(a){a>0?(console.log("show result win view"),this.showWin()):0==a?(console.log("show result win view"),this.showTie()):(console.log("show result lose view"),this.showLose())},i.prototype.OnGameResultClose=function(){n.MessageProxy.Instance().SendGameOver()},i}(e.ui.RunGameViewUI);t.RunGameView=s},{"../MessageProxy":10,"../ui/layaMaxUI":16,"./GameController":5}],9:[function(a,i,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=a("./GameConfig"),o=a("./manage/GameManage");new(function(){function a(){window.Laya3D?Laya3D.init(e.default.width,e.default.height):Laya.init(720,1440,Laya.WebGL),Laya.Physics&&Laya.Physics.enable(),Laya.DebugPanel&&Laya.DebugPanel.enable(),Laya.stage.screenAdaptationEnabled=!1,Laya.stage.scaleMode=Laya.Stage.SCALE_NOBORDER,Laya.stage.screenMode=Laya.Stage.SCREEN_VERTICAL,Laya.stage.alignV=Laya.Stage.ALIGN_CENTER,Laya.URL.exportSceneToJson=e.default.exportSceneToJson,(e.default.debug||"true"==Laya.Utils.getQueryString("debug"))&&Laya.enableDebugPanel(),e.default.physicsDebug&&Laya.PhysicsDebugDraw&&Laya.PhysicsDebugDraw.enable(),e.default.stat&&Laya.Stat.show(),Laya.alertGlobalError=!0,Laya.ResourceVersion.enable("version.json",Laya.Handler.create(this,this.onVersionLoaded),Laya.ResourceVersion.FILENAME_VERSION)}return a.prototype.onVersionLoaded=function(){Laya.AtlasInfoManager.enable("fileconfig.json",Laya.Handler.create(this,this.onConfigLoaded))},a.prototype.onConfigLoaded=function(){o.GameManage.Instance().StartGame()},a}())},{"./GameConfig":2,"./manage/GameManage":14}],10:[function(a,i,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=Laya.Browser,o=function(){function a(){}return a.Instance=function(){return null==this.s_instance&&(this.s_instance=new a),this.s_instance},a.prototype.SetGameView=function(a){this._view=a},a.prototype.InitProxy=function(){var a=this;console.log("init message proxy "),e.window.addEventListener("message",function(i){console.log("receive message listener"),a.OnReceiveMessage(i.data)}),this._users=[]},a.prototype.PostMessage=function(a){e.window.parent&&e.window.parent.postMessage(a,"*")},a.prototype.SendPostScore=function(a){this.PostMessage({cmd:"SendGameData",data:a})},a.prototype.SendLoadReady=function(){this.PostMessage({cmd:"GameLoadReady"})},a.prototype.SendGameReady=function(){this.PostMessage({cmd:"GamePlayReady"})},a.prototype.SendGameOver=function(){this.PostMessage({cmd:"GameOver"})},a.prototype.AddListenter=function(a){this._listener=a},a.prototype.RemoveListener=function(){this._listener=null},a.prototype.OnReceiveMessage=function(a){console.log("on receive message"),console.log(a.cmd);switch(a.cmd){case"UpdateData":2==this._users.length&&(a.data.userId==this._users[0].userId?this._view&&this._view.UpdateScoreData(0,a.data.userScore):this._view&&this._view.UpdateScoreData(1,a.data.userScore));break;case"GameResult":this._view&&this._view.ShowResult(a.data);break;case"GameBegin":console.log(a.data),this._users=a.data,this._view?(console.log("set view data  "),this._view.SetUserData(0,a.data[0]),this._view.SetUserData(1,a.data[1])):console.log("view is not create ");break;case"onPause":Laya.SoundManager.musicMuted=!0,Laya.SoundManager.muted=!0;break;case"onResume":Laya.SoundManager.musicMuted=!1,Laya.SoundManager.muted=!1}this._listener&&(console.log("call back listener "),this._listener(a.data))},a}();t.MessageProxy=o},{}],11:[function(a,i,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=a("../manage/EventManage"),o=a("../Enum/EventEnum"),n=a("../manage/ResourceManage"),s=function(){function a(){this.AddListener()}return a.prototype.AddListener=function(){e.EventManage.Instance().AddListener(o.EventEnum.start_game,this.StartGame.bind(this))},a.prototype.StartGame=function(){0==a.isPreLoad?(n.ResourceManage.Instance().ResourceVersion(),a.isPreLoad=!0):e.EventManage.Instance().Broadcast(o.EventEnum.preLoad_complete)},a.isPreLoad=!1,a}();t.PreLoadController=s},{"../Enum/EventEnum":1,"../manage/EventManage":13,"../manage/ResourceManage":15}],12:[function(a,i,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=a("../GameSystem/GameController"),o=a("../PreLoadSystem/PreLoadController"),n=function(){function a(){}return a.Instance=function(){return null==this.instance&&(this.instance=new a),this.instance},a.prototype.Init=function(){this.mPreLoadController=new o.PreLoadController,this.mGameController=new e.GameController},a.prototype.Reset=function(){a.instance=null},a}();t.ControllerManage=n},{"../GameSystem/GameController":5,"../PreLoadSystem/PreLoadController":11}],13:[function(a,i,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=a("../Enum/EventEnum"),o=function(a){function i(){return null!==a&&a.apply(this,arguments)||this}return __extends(i,a),i.Instance=function(){return null==this.instance&&(this.instance=new i),this.instance},i.prototype.Init=function(){},i.prototype.Reset=function(){i.instance.offAll(),i.instance.destroy(),i.instance=null},i.prototype.Broadcast=function(a,t){void 0===t&&(t=null),i.Instance().event(e.EventEnum[a],t)},i.prototype.AddListener=function(a,t){i.Instance().on(e.EventEnum[a],this,t)},i.prototype.RemoveListener=function(a,t){i.Instance().off(e.EventEnum[a],this,t)},i}(Laya.Sprite);t.EventManage=o},{"../Enum/EventEnum":1}],14:[function(a,i,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=a("./EventManage"),o=a("./ControllerManage"),n=a("./ResourceManage"),s=a("../Enum/EventEnum"),h=function(){function a(){this.isInitManages=!1}return a.Instance=function(){return null==this.instance&&(this.instance=new a),this.instance},a.prototype.InitManages=function(){Laya.MouseManager.multiTouchEnabled=!1,Laya.stage.frameRate="fast",e.EventManage.Instance().Init(),o.ControllerManage.Instance().Init(),n.ResourceManage.Instance().Init(),this.mRoot=new Laya.View,this.mRoot.width=Laya.stage.width,this.mRoot.height=Laya.stage.height,this.mRoot.centerX=0,this.mRoot.centerY=0,Laya.stage.addChild(this.mRoot),this.isInitManages=!0},a.prototype.Reset=function(){for(this.mRoot.destroy();this.mRootStage.length>0;)this.mRootStage.shift().destroy();this.isInitManages=!1,this.StartGame()},a.prototype.StartGame=function(){this.isInitManages||this.InitManages(),e.EventManage.Instance().Broadcast(s.EventEnum.start_game)},a.prototype.ResetGame=function(){e.EventManage.Instance().Reset(),o.ControllerManage.Instance().Reset(),n.ResourceManage.Instance().Reset(),this.Reset()},a.prototype.AgainGame=function(){},a.prototype.PauseGame=function(){Laya.stage.frameRate="sleep"},a.prototype.PlayGame=function(){Laya.stage.frameRate="fast"},a.prototype.OnGameOver=function(a){console.log("on game over "+a)},a}();t.GameManage=h},{"../Enum/EventEnum":1,"./ControllerManage":12,"./EventManage":13,"./ResourceManage":15}],15:[function(a,i,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=a("./EventManage"),o=a("../Enum/EventEnum"),n=function(){function a(){this.Init()}return a.Instance=function(){return null==this.instance&&(this.instance=new a),this.instance},a.prototype.Reset=function(){a.instance=null},a.prototype.Init=function(){Laya.loader.retryNum=0},a.prototype.ResourceVersion=function(){Laya.ResourceVersion.enable("version.json",Laya.Handler.create(this,this.PreLoad),Laya.ResourceVersion.FILENAME_VERSION)},a.prototype.PreLoad=function(){var a=[{url:"res/atlas/bg.atlas",type:Laya.Loader.ATLAS},{url:"res/atlas/xuehua.atlas",type:Laya.Loader.ATLAS}];Laya.loader.load(a,Laya.Handler.create(this,this.PreLoadComplete),Laya.Handler.create(this,this.PreLoadProgress,null,!1))},a.prototype.PreLoadComplete=function(){console.log("preload complete"),e.EventManage.Instance().Broadcast(o.EventEnum.preLoad_complete)},a.prototype.PreLoadProgress=function(a){console.log("加载进度: "+a),e.EventManage.Instance().Broadcast(o.EventEnum.preLoad_progress,a)},a.prototype.GetRes=function(a){return Laya.loader.getRes(a)},a.prototype.AsynGetRes=function(a,i){Laya.loader.load(a,i)},a}();t.ResourceManage=n},{"../Enum/EventEnum":1,"./EventManage":13}],16:[function(a,i,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=Laya.View,o=Laya.Dialog;!function(a){var i=function(a){function i(){return a.call(this)||this}return __extends(i,a),i.prototype.createChildren=function(){a.prototype.createChildren.call(this),this.createView(i.uiView)},i.uiView={type:"Dialog",props:{width:720,height:1440},compId:2,child:[{type:"Sprite",props:{y:720,x:360,width:642,visible:!1,var:"winBg",texture:"bg/guangquan.png",pivotY:321,pivotX:321,height:642},compId:5},{type:"Sprite",props:{y:413,x:0,visible:!1,var:"winImg",texture:"bg/win.png"},compId:6},{type:"HBox",props:{y:360,x:0,width:720,visible:!1,var:"winBox",height:720},compId:4},{type:"HBox",props:{y:368,x:0,width:720,visible:!1,var:"tieBox",height:720},compId:7},{type:"HBox",props:{y:368,x:0,width:720,visible:!1,var:"loseBox",height:720},compId:9},{type:"Sprite",props:{y:519,x:46,visible:!1,var:"tieImg",texture:"bg/tie.png",height:418},compId:8},{type:"Sprite",props:{y:519,x:46,visible:!1,var:"loseImg",texture:"bg/lose.png"},compId:10}],loadList:["bg/guangquan.png","bg/win.png","bg/tie.png","bg/lose.png"],loadList3D:[]},i}(o);a.GameOverDialogUI=i;var t=function(a){function i(){return a.call(this)||this}return __extends(i,a),i.prototype.createChildren=function(){a.prototype.createChildren.call(this),this.createView(i.uiView)},i.uiView={type:"View",props:{width:720,height:1440},compId:2,child:[{type:"Sprite",props:{y:0,x:0,visible:!0,var:"level_1",texture:"bg/changjinga.png",height:1440},compId:3,child:[{type:"Sprite",props:{y:0,x:0,visible:!0,var:"level_2",texture:"bg/changjingc.png",height:1440},compId:32}]},{type:"Sprite",props:{zOrder:1,y:149,x:56,var:"user",texture:"bg/fenshukuanghongb.png"},compId:64,child:[{type:"Text",props:{y:103,x:58,width:200,var:"name_1",pivotX:100,overflow:"hidden",height:37,fontSize:30,color:"#ffffff",align:"center",runtime:"laya.display.Text"},compId:68},{type:"Text",props:{y:23.5,x:208,width:150,var:"score_1",pivotX:75,height:50,fontSize:48,font:"Helvetica",color:"#ffffff",bold:!1,align:"center",runtime:"laya.display.Text"},compId:72},{type:"Sprite",props:{y:48.5,x:59.5,width:91,var:"touxiang_1",pivotY:41,pivotX:46,height:82},compId:74,child:[{type:"Sprite",props:{y:41,x:46.5,width:84,renderType:"mask",pivotY:37,pivotX:42,height:74},compId:75,child:[{type:"Circle",props:{y:38,x:40,radius:42,lineWidth:1,fillColor:"#ff0000"},compId:76}]}]},{type:"Sprite",props:{y:49,x:59,width:111,var:"kuang_1",texture:"bg/fenshukuanghonga.png",pivotY:53,pivotX:56,height:105},compId:65},{type:"Sprite",props:{y:49,x:58,width:120,var:"touxiangkuang_1",pivotY:60,pivotX:60,height:120},compId:100}]},{type:"Sprite",props:{zOrder:1,y:147,x:338,var:"opposite",texture:"bg/fenshukuanglanb.png"},compId:67,child:[{type:"Text",props:{y:109.5,x:266.5,width:200,var:"name_2",pivotX:100,overflow:"hidden",height:37,fontSize:30,color:"#ffffff",align:"center",runtime:"laya.display.Text"},compId:69},{type:"Text",props:{y:25,x:116.5,width:150,var:"score_2",pivotX:75,height:50,fontSize:48,font:"Helvetica",color:"#ffffff",bold:!1,align:"center",runtime:"laya.display.Text"},compId:73},{type:"Sprite",props:{y:48.5,x:265.5,width:91,var:"touxiang_2",pivotY:41,pivotX:46,height:82},compId:77,child:[{type:"Sprite",props:{y:41,x:49.5,width:84,renderType:"mask",pivotY:37,pivotX:42,height:74},compId:78,child:[{type:"Circle",props:{y:38,x:40,radius:42,lineWidth:1,fillColor:"#ff0000"},compId:79}]}]},{type:"Sprite",props:{y:50,x:265,width:115,var:"kuang_2",texture:"bg/fenshukuanglana.png",pivotY:53,pivotX:58,height:105},compId:66},{type:"Sprite",props:{y:48.5,x:265,width:120,var:"touxiangkuang_2",pivotY:60,pivotX:60,height:120},compId:104}]},{type:"Label",props:{zOrder:1,y:262,x:319.95703125,visible:!1,var:"timeLeft",fontSize:72,font:"Helvetica",color:"#ffffff",bold:!0},compId:87},{type:"Label",props:{zOrder:1,y:262,x:360,visible:!1,var:"timeRight",fontSize:72,font:"Helvetica",color:"#ffffff",bold:!0},compId:88}],loadList:["bg/changjinga.png","bg/changjingc.png","bg/fenshukuanghongb.png","bg/fenshukuanghonga.png","bg/fenshukuanglanb.png","bg/fenshukuanglana.png"],loadList3D:[]},i}(e);a.RunGameViewUI=t}(t.ui||(t.ui={}))},{}]},{},[9]);
